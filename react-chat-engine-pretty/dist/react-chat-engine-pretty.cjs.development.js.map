{"version":3,"file":"react-chat-engine-pretty.cjs.development.js","sources":["../src/functions/isMobile.ts","../src/functions/getOtherUsers.ts","../src/components/OtherAvatars.tsx","../src/functions/dates.ts","../src/components/ChatHeader.tsx","../src/components/ChatForm.tsx","../src/components/ChatCard.tsx","../src/components/MessageForm.tsx","../src/components/ChatListHeader.tsx","../src/index.tsx"],"sourcesContent":["import { useLayoutEffect, useState } from 'react';\r\n\r\nexport const useIsMobile = () => {\r\n  const [size, setSize] = useState([0, 0]);\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      setSize([window.innerWidth, window.innerHeight]);\r\n    }\r\n    window.addEventListener('resize', updateSize);\r\n    updateSize();\r\n    return () => window.removeEventListener('resize', updateSize);\r\n  }, []);\r\n  return size[0] < 667;\r\n};\r\n","import { ChatObject, PersonObject } from \"react-chat-engine-advanced\";\r\n\r\nexport const getOtherUsers = (\r\n  chat: ChatObject,\r\n  username: string\r\n): PersonObject[] => {\r\n  const otherMembers = chat.people.filter(\r\n    (member) => member.person.username !== username\r\n  );\r\n  return otherMembers.map(member => member.person)\r\n};\r\n\r\nexport const getChatTitle = (chat: ChatObject, username: string) => {\r\n  const otherUsers = getOtherUsers(chat, username)\r\n  if (otherUsers.length === 1) {\r\n    return `${otherUsers[0].first_name} ${otherUsers[0].last_name}`;\r\n  } else {\r\n    var title = '';\r\n    for (let i = 0; i < otherUsers.length; i++) {\r\n      if (i === otherUsers.length - 1) {\r\n        title += otherUsers[i].first_name;\r\n      } else if (i === otherUsers.length - 2) {\r\n        title += otherUsers[i].first_name + ' & ';\r\n      } else {\r\n        title += otherUsers[i].first_name + ', ';\r\n      }\r\n    }\r\n    return title;\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nimport { Avatar, ChatObject } from 'react-chat-engine-advanced';\r\nimport { getOtherUsers } from '../functions/getOtherUsers';\r\ninterface OtherAvatarProps {\r\n  chat: ChatObject;\r\n  username: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\nconst OtherAvatars = (props: OtherAvatarProps) => {\r\n  const otherUsers = getOtherUsers(props.chat, props.username);\r\n  const memberOne = otherUsers.length > 0 ? otherUsers[0] : undefined;\r\n  const memberTwo = otherUsers.length > 1 ? otherUsers[1] : undefined;\r\n  const memberThree = otherUsers.length > 2 ? otherUsers[2] : undefined;\r\n\r\n  return (\r\n    <div style={props.style}>\r\n      <Avatar\r\n        className=\"ce-custom-header-avatar\"\r\n        avatarUrl={memberOne?.avatar}\r\n        username={memberOne?.username}\r\n        style={{\r\n          ...styles.avatar,\r\n          ...(memberOne?.is_online ? styles.online : styles.offline),\r\n          ...(memberTwo && {\r\n            width: '28px',\r\n            height: '28px',\r\n            lineHeight: '28px',\r\n            fontSize: '12px',\r\n          }),\r\n          ...(memberThree && {\r\n            width: '21px',\r\n            height: '21px',\r\n            lineHeight: '21px',\r\n            fontSize: '10px',\r\n          }),\r\n        }}\r\n      />\r\n\r\n      {memberTwo && (\r\n        <Avatar\r\n          className=\"ce-custom-header-avatar\"\r\n          avatarUrl={memberTwo?.avatar}\r\n          username={memberTwo?.username}\r\n          style={{\r\n            ...styles.avatar,\r\n            ...(memberOne?.is_online ? styles.online : styles.offline),\r\n            ...{\r\n              width: '28px',\r\n              height: '28px',\r\n              lineHeight: '28px',\r\n              fontSize: '12px',\r\n              top: 'calc(40px - 28px - 6px)',\r\n              left: 'calc(40px - 28px)',\r\n            },\r\n            ...(memberThree && {\r\n              width: '21px',\r\n              height: '21px',\r\n              lineHeight: '21px',\r\n              fontSize: '10px',\r\n              top: '-5px',\r\n              left: '22px',\r\n            }),\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {memberThree && (\r\n        <Avatar\r\n          className=\"ce-custom-header-avatar\"\r\n          avatarUrl={memberThree?.avatar}\r\n          username={memberThree?.username}\r\n          style={{\r\n            ...styles.avatar,\r\n            ...(memberThree?.is_online ? styles.online : styles.offline),\r\n            ...{\r\n              width: '21px',\r\n              height: '21px',\r\n              lineHeight: '21px',\r\n              fontSize: '10px',\r\n              top: '-7px',\r\n              left: '11px',\r\n            },\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  avatar: {\r\n    display: 'inline-block',\r\n    position: 'relative',\r\n    top: '22px',\r\n    marginLeft: '12px',\r\n    width: '38px',\r\n    height: '38px',\r\n    fontSize: '14px',\r\n    lineHeight: '40px',\r\n    transition: 'all 0.66s ease',\r\n  } as React.CSSProperties,\r\n  online: {\r\n    border: '1px solid rgb(24, 144, 255)',\r\n    boxShadow: 'rgb(24 144 255 / 35%) 0px 2px 7px',\r\n  } as React.CSSProperties,\r\n  offline: {\r\n    border: '1px solid #fa541c',\r\n    boxShadow: 'rgb(245 34 45 / 35%) 0px 2px 7px',\r\n  } as React.CSSProperties,\r\n};\r\n\r\nexport default OtherAvatars;\r\n","export const nowTimeStamp = () => {\r\n    return new Date()\r\n      .toISOString()\r\n      .replace(\"T\", \" \")\r\n      .replace(\"Z\", `${Math.floor(Math.random() * 1000)}+00:00`);\r\n  };\r\n  ","import React, { CSSProperties } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { ChatHeaderProps, ChatObject } from 'react-chat-engine-advanced';\r\n\r\nimport {\r\n  DeleteFilled,\r\n  PaperClipOutlined,\r\n  LoadingOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport OtherAvatars from './OtherAvatars';\r\n\r\nimport { nowTimeStamp } from '../functions/dates';\r\nimport { getOtherUsers, getChatTitle } from '../functions/getOtherUsers';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface CustomChatHeaderProps extends ChatHeaderProps {\r\n  chat?: ChatObject;\r\n  projectId: string;\r\n  username: string;\r\n  secret: string;\r\n  onDeleteChat: (oldChat: ChatObject) => void;\r\n}\r\n\r\nconst ChatHeader = (props: CustomChatHeaderProps) => {\r\n  // State\r\n  const [isFilePickerLoading, setFilePickerLoading] = useState(false);\r\n  const [isDeleteLoading, setDeleteLoading] = useState(false);\r\n\r\n  const otherMembers = props.chat\r\n    ? getOtherUsers(props.chat, props.username)\r\n    : [];\r\n  const otherMember = otherMembers.length > 0 ? otherMembers[0] : undefined;\r\n\r\n  const onFilesSelect: React.ChangeEventHandler<HTMLInputElement> = e => {\r\n    if (!props.chat) return;\r\n    setFilePickerLoading(true);\r\n\r\n    const headers = {\r\n      'Project-ID': props.projectId,\r\n      'User-Name': props.username,\r\n      'User-Secret': props.secret,\r\n    };\r\n\r\n    const formdata = new FormData();\r\n    const filesArr = Array.from(e.target.files !== null ? e.target.files : []);\r\n    filesArr.forEach(file => formdata.append('attachments', file, file.name));\r\n    formdata.append('created', nowTimeStamp());\r\n    formdata.append('sender_username', props.username);\r\n    formdata.append('custom_json', JSON.stringify({}));\r\n\r\n    axios\r\n      .post(\r\n        `https://api.chatengine.io/chats/${props.chat.id}/messages/`,\r\n        formdata,\r\n        { headers }\r\n      )\r\n      .then(() => setFilePickerLoading(false))\r\n      .catch(() => setFilePickerLoading(false));\r\n  };\r\n\r\n  const onDelete = () => {\r\n    if (!props.chat) return;\r\n    setDeleteLoading(true);\r\n\r\n    const headers = {\r\n      'Project-ID': props.projectId,\r\n      'User-Name': props.username,\r\n      'User-Secret': props.secret,\r\n    };\r\n\r\n    axios\r\n      .delete(`https://api.chatengine.io/chats/${props.chat.id}/`, { headers })\r\n      .then(r => {\r\n        setDeleteLoading(false);\r\n        props.onDeleteChat(r.data);\r\n      });\r\n  };\r\n\r\n  if (!otherMember || !props.chat)\r\n    return <div className=\"ce-custom-chat-header\" style={styles.chatHeader} />;\r\n\r\n  return (\r\n    <div className=\"ce-custom-chat-header\" style={styles.chatHeader}>\r\n      <OtherAvatars\r\n        chat={props.chat}\r\n        username={props.username}\r\n        style={styles.chatAvatars}\r\n      />\r\n\r\n      <div className=\"ce-custom-header-text\" style={styles.headerText}>\r\n        <div className=\"ce-custom-header-title\" style={styles.headerTitle}>\r\n          {getChatTitle(props.chat, props.username)}\r\n        </div>\r\n        <div\r\n          className=\"ce-custom-header-subtitle\"\r\n          style={styles.headerSubtitle}\r\n        >  \r\n           <h6 style={styles.headerSubtitleMain}>{props.username}</h6>\r\n          <p>{otherMember.is_online ? 'Online' : 'Offline'}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ce-custom-header-icon-wrapper\" style={styles.iconWrapper}>\r\n        <form style={{ display: 'inline-block' }}>\r\n          <label htmlFor=\"ce-files-picker\">\r\n            {isFilePickerLoading ? (\r\n              <LoadingOutlined\r\n                style={{ color: 'rgb(153, 153, 153)' }}\r\n                className=\"ce-custom-header-icon\"\r\n              />\r\n            ) : (\r\n              <PaperClipOutlined\r\n                style={styles.headerIcon}\r\n                className=\"ce-custom-header-icon\"\r\n              />\r\n            )}\r\n          </label>\r\n          <input\r\n            multiple\r\n            id=\"ce-files-picker\"\r\n            style={{ visibility: 'hidden', height: '0px', width: '0px' }}\r\n            type=\"file\"\r\n            onChange={onFilesSelect}\r\n          />\r\n        </form>\r\n\r\n        {isDeleteLoading ? (\r\n          <LoadingOutlined\r\n            style={{ color: 'rgb(153, 153, 153)' }}\r\n            className=\"ce-custom-header-icon\"\r\n          />\r\n        ) : (\r\n          <DeleteFilled\r\n            onClick={() => onDelete()}\r\n            className=\"ce-custom-header-icon\"\r\n            style={styles.headerIcon}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <style>{`.ce-custom-header-icon:hover { color: rgb(24, 144, 255) !important; }`}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  chatAvatars: {\r\n    width: 'calc(40px + 14px + 14px)',\r\n    height: '100%',\r\n    display: 'block',\r\n  } as CSSProperties,\r\n  chatHeader: {\r\n    display: 'flex',\r\n    position: 'relative',\r\n    marginLeft: '12px',\r\n    width: 'calc(100% - 12px - 12px)',\r\n    height: '86px',\r\n  } as CSSProperties,\r\n  headerText: {\r\n    display: 'block',\r\n    width: 'calc(100% - 40px - 14px - 14px - 100px)',\r\n    height: '100%',\r\n    position: 'relative',\r\n  } as CSSProperties,\r\n  headerTitle: {\r\n    color: 'white',\r\n    fontSize: '13px',\r\n    fontFamily: 'Avenir',\r\n    paddingTop: '26.5px',\r\n  } as CSSProperties,\r\n  headerSubtitle: {\r\n    fontFamily: 'Avenir',\r\n    color: 'rgb(153, 153, 153)',\r\n    fontSize: '11px',\r\n  } as CSSProperties,\r\n  headerSubtitleMain: {\r\n    fontFamily: 'Avenir',\r\n    color: 'black',\r\n    fontSize: '18px',\r\n    fontWeight: 'bold'\r\n  } as CSSProperties,\r\n  iconWrapper: {\r\n    display: 'block',\r\n    width: '100px',\r\n    height: '100%',\r\n    textAlign: 'right',\r\n  } as CSSProperties,\r\n  headerIcon: {\r\n    marginLeft: '14px',\r\n    paddingTop: 'calc((86px - 15px) / 2)',\r\n    cursor: 'pointer',\r\n    color: 'rgb(153, 153, 153)',\r\n    transition: 'all 0.66s ease',\r\n    ':hover': {\r\n      color: 'rgb(123, 59, 153))', \r\n    }\r\n  } as CSSProperties,\r\n};\r\n\r\nexport default ChatHeader;\r\n","import React, { CSSProperties, useRef, useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { PersonObject } from 'react-chat-engine-advanced';\r\n\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nimport Select from 'react-select';\r\n\r\nexport interface OptionType {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface ChatFormProps {\r\n  projectId: string;\r\n  username: string;\r\n  secret: string;\r\n  onChange: (users: OptionType[]) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ChatForm = (props: ChatFormProps) => {\r\n  const didMountRef = useRef(false);\r\n  const [options, setOptions] = useState<OptionType[]>([]);\r\n  const [selected, setSelected] = useState<OptionType[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (!didMountRef.current) {\r\n      didMountRef.current = true;\r\n\r\n      getAllUsers(\r\n        users => {\r\n          const otherUsers = users.filter(\r\n            user => user.username !== props.username\r\n          );\r\n          const options = otherUsers.map(user => {\r\n            return {\r\n              value: JSON.stringify(user),\r\n              label: `${user.first_name} ${user.last_name}`,\r\n            };\r\n          });\r\n          setOptions(options);\r\n        },\r\n        () => console.log('oops!')\r\n      );\r\n    }\r\n  });\r\n\r\n  const getAllUsers = (\r\n    onSuccess: (data: PersonObject[]) => void,\r\n    onError: () => void\r\n  ) => {\r\n    axios\r\n      .get('https://api.chatengine.io/users/search/', {\r\n        headers: {\r\n          'Project-ID': props.projectId,\r\n          'User-Name': props.username,\r\n          'User-Secret': props.secret,\r\n        },\r\n      })\r\n      .then(r => onSuccess(r.data))\r\n      .catch(() => onError);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ce-custom-chat-form\" style={styles.chatForm}>\r\n      <Select\r\n        options={options}\r\n        autoFocus={true}\r\n        isMulti={true}\r\n        onChange={users => {\r\n          setSelected(users as OptionType[]);\r\n          props.onChange(users as OptionType[]);\r\n        }}\r\n        styles={customStyles}\r\n        placeholder=\"Search for users...\"\r\n      />\r\n\r\n      <button\r\n        className=\"ce-create-chat-button\"\r\n        style={{\r\n          ...styles.createChatButton,\r\n          ...(selected.length === 0 && styles.createChatButtonDisabled),\r\n        }}\r\n        onClick={props.onCancel}\r\n        disabled={selected.length === 0}\r\n      >\r\n        <PlusOutlined />\r\n      </button>\r\n\r\n      <style>{`.ce-create-chat-button:hover { background-color: #7b3bc8; }`}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface StateType {\r\n  isFocused: boolean;\r\n}\r\n\r\nconst customStyles = {\r\n  container: () => ({\r\n    width: 'calc(100% - 12px - 12px - 38px - 4px)',\r\n    marginLeft: '12px',\r\n    marginTop: '26px',\r\n  }),\r\n  control: (provided: object) => ({\r\n    ...provided,\r\n    outline: 'none',\r\n    fontFamily: 'Avenir',\r\n    color: 'white',\r\n    backgroundColor: 'white',\r\n    borderRadius: '8px',\r\n    border: '1px solid rgb(123, 59, 153)',\r\n    boxShadow: 'rgb(123, 59, 180 / 35%) 0px 2px 7px',\r\n  }),\r\n  input: (provided: object) => ({\r\n    ...provided,\r\n    color: 'white',\r\n  }),\r\n  placeholder: (provided: object) => ({\r\n    ...provided,\r\n    color: 'rgb(197, 197, 197)',\r\n  }),\r\n  option: (provided: object, state: StateType) => ({\r\n    ...provided,\r\n    fontFamily: 'Avenir',\r\n    color: 'rgb(197, 197, 197)',\r\n    backgroundColor: state.isFocused ? 'rgb(242, 242, 242)' : 'white',\r\n  }),\r\n  noOptionsMessage: (provided: object) => ({\r\n    ...provided,\r\n    fontFamily: 'Avenir',\r\n  }),\r\n  menu: (provided: object) => ({\r\n    ...provided,\r\n    width: 'calc(100% - 12px - 12px - 38px - 4px)',\r\n    backgroundColor: 'white',\r\n  }),\r\n};\r\n\r\nconst styles = {\r\n  chatForm: {\r\n    display: 'inline-block',\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '86px',\r\n  } as CSSProperties,\r\n  createChatButton: {\r\n    width: '38px',\r\n    height: '38px',\r\n    position: 'absolute',\r\n    right: '12px',\r\n    top: '26px',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.44s ease',\r\n    outline: 'none',\r\n    backgroundColor: 'rgb(123, 59, 153)',\r\n    border: '1px solid rgb(123, 59, 153)',\r\n    fontSize: '18px',\r\n    color: 'white',\r\n    boxShadow: 'rgba(123, 59, 153, 0.35) 0px 5px 15px',\r\n  } as CSSProperties,\r\n  createChatButtonDisabled: {\r\n    cursor: 'not-allowed',\r\n    color: 'white',\r\n    backgroundColor: '#7b3bc8',\r\n    border: '1px solid #7b3bc8',\r\n    boxShadow: 'none',\r\n  } as CSSProperties,\r\n};\r\n\r\nexport default ChatForm;\r\n","import React from 'react';\r\n\r\nimport {\r\n  ChatCard,\r\n  ChatCardProps,\r\n  ChatObject,\r\n} from 'react-chat-engine-advanced';\r\n\r\nimport { getChatTitle, getOtherUsers } from '../functions/getOtherUsers';\r\n\r\nimport OtherAvatars from './OtherAvatars';\r\n\r\ninterface CustomChatCardProps extends ChatCardProps {\r\n  username: string;\r\n  isActive: boolean;\r\n  onChatCardClick: (chatId: number) => void;\r\n  chat?: ChatObject;\r\n}\r\n\r\nconst CustomChatCard = (props: CustomChatCardProps) => {\r\n  const { chat } = props;\r\n\r\n  if (chat === undefined) return <div />;\r\n\r\n  const otherUsers = getOtherUsers(chat, props.username);\r\n  const otherMember = otherUsers.length > 0 ? otherUsers[0] : undefined;\r\n  const username = otherMember ? otherMember.username : '';\r\n  const messageText = chat.last_message.text;\r\n  const hasNotification = chat.last_message.sender_username !== props.username;\r\n\r\n  return (\r\n    <div>\r\n      <style>{`\r\n        .ce-chat-card:hover { border: 1px solid #7B3B99 !important; box-shadow: rgb(170 24 255 / 35%) 0px 2px 7px !important; }\r\n        .ce-chat-card-loading { height: 10px !important; }\r\n        .ce-chat-card-title-loading { top: 16px !important; }\r\n        `}</style>\r\n\r\n      <ChatCard\r\n        title={getChatTitle(chat, props.username)}\r\n        description={\r\n          messageText === null || messageText.length === 0\r\n            ? 'Say hello'\r\n            : messageText\r\n        }\r\n        hasNotification={hasNotification}\r\n        avatarUrl={otherMember?.avatar}\r\n        avatarUsername={username}\r\n        avatarStyle={{\r\n          top: '12px',\r\n          boxShadow: otherMember?.is_online\r\n            ? 'rgb(24 144 255 / 35%) 0px 2px 7px'\r\n            : 'rgb(245 34 45 / 35%) 0px 2px 7px',\r\n          border: otherMember?.is_online\r\n            ? '1px solid rgb(24 144 255)'\r\n            : '1px solid rgb(245 34 45)',\r\n        }}\r\n        isActive={props.isActive}\r\n        renderAvatar={() => (\r\n          <OtherAvatars\r\n            chat={chat}\r\n            username={props.username}\r\n            style={{\r\n              position: 'relative',\r\n              width: '52px',\r\n              top: '-8px',\r\n            }}\r\n          />\r\n        )}\r\n        onClick={() => props.chat && props.onChatCardClick(props.chat.id)}\r\n        style={{\r\n          border: '1px solid #D9D9D9',\r\n          backgroundColor: '#D9D9D9',\r\n          margin: '10px 12px',\r\n          height: '68px',\r\n        }}\r\n        titleStyle={{ color: 'white' }}\r\n        subtitleStyle={{\r\n          bottom: '16px',\r\n          width: 'calc(70% - 44px)',\r\n          color: 'white',\r\n        }}\r\n        timeStampStyle={{\r\n          fontSize: '12px',\r\n          bottom: '16px',\r\n        }}\r\n        activeStyle={{\r\n          border: '1px solid #7B3B99',\r\n          backgroundColor: '#7B3B99',\r\n          boxShadow: 'rgb(246 237 247 / 35%) 0px 2px 7px',\r\n          color: 'white !important' ,\r\n        }}\r\n        notificationStyle={{ top: 'calc((68px - 12px) / 2)' }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomChatCard;\r\n","import React, { CSSProperties } from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport { CaretUpFilled } from '@ant-design/icons';\r\n\r\nimport { MessageObject, MessageFormProps } from 'react-chat-engine-advanced';\r\n\r\nimport { nowTimeStamp } from '../functions/dates';\r\n\r\nconst MessageForm = (props: MessageFormProps) => {\r\n  const [text, setText] = useState<string>('');\r\n  const [isFocused, setIsFocused] = useState<boolean>(false);\r\n\r\n  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    if (text.trim().length === 0) {\r\n      return;\r\n    }\r\n\r\n    setText('');\r\n\r\n    const message: MessageObject = {\r\n      text: text,\r\n      sender_username: props.username ? props.username : '',\r\n      created: nowTimeStamp(),\r\n      custom_json: {},\r\n      attachments: [],\r\n    };\r\n\r\n    props.onSubmit && props.onSubmit(message);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={onSubmit}\r\n      style={styles.messageForm}\r\n      className=\"ce-custom-message-form\"\r\n    >\r\n      <input\r\n        onChange={e => setText(e.target.value)}\r\n        value={text}\r\n        placeholder=\"Write a message...\"\r\n        className=\"ce-custom-message-input\"\r\n        style={{\r\n          ...styles.messageInput,\r\n          ...(isFocused ? styles.messageInputFocused : {}),\r\n        }}\r\n        onFocus={() => setIsFocused(true)}\r\n        onBlur={() => setIsFocused(false)}\r\n      />\r\n      <style>{`.ce-custom-message-input::placeholder { color: #e1e1e1; font-family: Avenir; }`}</style>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"ce-custom-send-button\"\r\n        style={{ ...styles.sendButton }}\r\n      >\r\n        <CaretUpFilled />\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  messageForm: {\r\n    height: '68px',\r\n    marginLeft: '12px',\r\n    marginRight: '12px',\r\n    width: 'calc(100% - 12px - 12px)',\r\n    borderRadius: '0px 0px 8px 8px',\r\n    backgroundColor: '#3e404b',\r\n  } as CSSProperties,\r\n  messageInput: {\r\n    marginTop: '6px',\r\n    marginLeft: '3.3vw',\r\n    marginRight: '4px',\r\n    width: 'calc(100% - 3.3vw - 3.3vw - 12px - 12px - 36px - 4px)',\r\n    boxShadow: 'rgba(24, 144, 255, 0.35) 0px 2px 7px',\r\n    border: '1px solid rgb(24, 144, 255)',\r\n    outline: 'none',\r\n    backgroundColor: '#434756',\r\n    color: 'white',\r\n    fontSize: '14px',\r\n    letterSpacing: '0.17px',\r\n    padding: '0px 15px',\r\n    height: '36px',\r\n    borderRadius: '8px 0 0 8px',\r\n    transition: 'all .44s ease',\r\n  } as CSSProperties,\r\n  messageInputFocused: {\r\n    boxShadow: 'rgba(64, 169, 255, 0.35) 0px 2px 7px',\r\n    border: '1px solid #40a9ff',\r\n  } as CSSProperties,\r\n  sendButton: {\r\n    cursor: 'pointer',\r\n    backgroundColor: 'rgb(24, 144, 255)',\r\n    border: '1px solid rgb(24, 144, 255)',\r\n    width: '36px',\r\n    height: '36px',\r\n    borderRadius: '0 8px 8px 0',\r\n    color: 'white',\r\n    boxShadow: 'rgba(24, 144, 255, 0.35) 0px 5px 15px',\r\n    transition: 'all .44s ease',\r\n  } as CSSProperties,\r\n};\r\n\r\nexport default MessageForm;\r\n","import React, { CSSProperties } from 'react';\r\n\r\nimport { FormOutlined } from '@ant-design/icons';\r\n\r\ninterface ChatListHeaderProps {\r\n  onNewChatClick: () => void;\r\n}\r\n\r\nconst ChatListHeader = (props: ChatListHeaderProps) => {\r\n  return (\r\n    <div style={styles.chatListHeader}>\r\n      <div style={styles.chatListHeaderTitle}>All Messages</div>\r\n\r\n      <button\r\n        className=\"ce-new-chat-button\"\r\n        style={styles.chatListHeaderButton}\r\n        onClick={props.onNewChatClick}\r\n      >\r\n        <FormOutlined />\r\n      </button>\r\n\r\n      <style>{`.ce-new-chat-button:hover { color: rgb(24, 144, 255) !important; }`}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  chatListHeader: {\r\n    display: 'inline-block',\r\n    width: 'calc(100% - 12px - 12px)',\r\n    margin: '0px 12px',\r\n    paddingTop: '28px',\r\n    paddingBottom: '32px',\r\n  } as CSSProperties,\r\n  chatListHeaderTitle: {\r\n    display: 'inline-block',\r\n    color: 'black',\r\n    fontSize: '24px',\r\n    fontFamily: 'Avenir',\r\n    fontWeight: '600',\r\n  } as CSSProperties,\r\n  chatListHeaderButton: {\r\n    display: 'inline-block',\r\n    float: 'right',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.33s ease',\r\n    outline: 'none',\r\n    backgroundColor: 'white',\r\n    fontSize: '18px',\r\n    color: 'black',\r\n  } as CSSProperties,\r\n};\r\n\r\nexport default ChatListHeader;\r\n","import React, { useState } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport {\r\n  useMultiChatLogic,\r\n  ChatList,\r\n  MultiChatWindowProps,\r\n  MultiChatSocket,\r\n  ChatFeed,\r\n  ChatCardProps,\r\n  ChatHeaderProps,\r\n  MessageFormProps,\r\n  MessageListProps,\r\n  MessageList,\r\n  PersonObject,\r\n} from 'react-chat-engine-advanced';\r\n\r\nimport { useIsMobile } from './functions/isMobile';\r\n\r\nimport ChatHeader from './components/ChatHeader';\r\nimport ChatForm, { OptionType } from './components/ChatForm';\r\nimport ChatCard from './components/ChatCard';\r\nimport MessageForm from './components/MessageForm';\r\nimport ChatListHeader from './components/ChatListHeader';\r\n\r\ninterface PrettyChatWindowProps extends MultiChatWindowProps {\r\n  projectId: string;\r\n  username: string;\r\n  secret: string;\r\n  httpUrl?: string;\r\n  height?: string;\r\n}\r\n\r\nexport const PrettyChatWindow = (props: PrettyChatWindowProps) => {\r\n  const [isChatFormActive, setIsChatFormActive] = useState(false);\r\n  const [chatFormUsers, setChatFromUsers] = useState<PersonObject[]>([]);\r\n  const isMobile: boolean = useIsMobile();\r\n\r\n  const chatProps = useMultiChatLogic(\r\n    props.projectId,\r\n    props.username,\r\n    props.secret,\r\n    props.httpUrl\r\n  );\r\n\r\n  async function getOrCreateChat() {\r\n    const usernames = chatFormUsers.map(user => user.username);\r\n    const data = {\r\n      usernames: usernames,\r\n    };\r\n    const headers = {\r\n      'Project-ID': chatProps.projectId,\r\n      'User-Name': chatProps.username,\r\n      'User-Secret': chatProps.secret,\r\n    };\r\n\r\n    axios.put('https://api.chatengine.io/chats/', data, { headers }).then(r => {\r\n      setIsChatFormActive(false);\r\n      setChatFromUsers([]);\r\n      chatProps.onChatCardClick(r.data.id);\r\n    });\r\n  }\r\n\r\n  const onChatFormChange = (options: OptionType[]) => {\r\n    const users: PersonObject[] = options.map(option =>\r\n      JSON.parse(option.value)\r\n    );\r\n    setChatFromUsers(users);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: props.height ? props.height : '100%',\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: 'white',\r\n      }}\r\n    >\r\n      <MultiChatSocket {...chatProps} />\r\n\r\n      <div style={isMobile ? styles.col0 : styles.col8}>\r\n        <ChatList\r\n          {...chatProps}\r\n          renderChatForm={() => (\r\n            <ChatListHeader\r\n              onNewChatClick={() => {\r\n                chatProps.setActiveChatId(undefined);\r\n                setIsChatFormActive(true);\r\n              }}\r\n            />\r\n          )}\r\n          renderChatCard={(props: ChatCardProps) => (\r\n            <ChatCard\r\n              {...props}\r\n              username={chatProps.username}\r\n              onChatCardClick={(chatId: number) => {\r\n                setIsChatFormActive(false);\r\n                setChatFromUsers([]);\r\n                chatProps.onChatCardClick(chatId);\r\n              }}\r\n              isActive={\r\n                props.chat !== undefined &&\r\n                chatProps.activeChatId === props.chat.id\r\n              }\r\n              chat={props.chat}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n\r\n      <div style={isMobile ? styles.col22 : styles.col14}>\r\n        <ChatFeed\r\n          {...chatProps}\r\n          renderChatHeader={(chatHeaderProps: ChatHeaderProps) => {\r\n            if (isChatFormActive) {\r\n              return (\r\n                <ChatForm\r\n                  projectId={chatProps.projectId}\r\n                  username={chatProps.username}\r\n                  secret={chatProps.secret}\r\n                  onChange={onChatFormChange}\r\n                  onCancel={getOrCreateChat}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <ChatHeader\r\n                  {...chatHeaderProps}\r\n                  chat={chatProps.chat}\r\n                  projectId={chatProps.projectId}\r\n                  username={chatProps.username}\r\n                  secret={chatProps.secret}\r\n                  onDeleteChat={chatProps.onDeleteChat}\r\n                />\r\n              );\r\n            }\r\n          }}\r\n          renderMessageList={(props: MessageListProps) => (\r\n            <MessageList\r\n              {...props}\r\n              renderMessageList={undefined}\r\n              messages={isChatFormActive ? [] : chatProps.messages}\r\n            />\r\n          )}\r\n          renderMessageForm={(props: MessageFormProps) => {\r\n            if (isChatFormActive) {\r\n              return <div style={styles.messageForm} />;\r\n            } else {\r\n              return <MessageForm {...props} />;\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <style>{`\r\n      .ce-chat-list { background-color: white !important;border: .5px solid black !important; margin-top: 4vh !important; !important; margin-right: 2vw !important; margin-left: 2vw !important;border-radius: 40px !important ; padding:25px !important; box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px; !important; }\r\n      .ce-chat-form { background-color: white !important; padding-bottom: 14px !important;  }\r\n      .ce-chat-form-title { color: black !important; }\r\n\r\n      .ce-chat-feed-column { border: none !important;background-color: white  !important; }\r\n      .ce-chat-feed { background-color: white  !important;border: .5px solid black !important; margin-top: 4vh !important; margin-left: 3vw !important; margin-right: 4vw !important; border-radius: 40px !important ; padding:25px !important; box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px; !important; }\r\n      .ce-message-list { margin-top: 24px !important; margin-left: 12px !important; margin-right: 12px !important; padding: 0px 3.3vw !important; background: white !important ; border-radius: 8px 8px 0px 0px !important; height: calc((100% - 85px) - 72px - 24px - 12px) !important; }\r\n\r\n      .ce-message-date-text { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; color: rgb(153, 153, 153) !important; font-size: 14px !important; letter-spacing: -1px; }\r\n      .ce-my-message-body { font-family: 'Avenir' !important; padding: 15px !important; background-color: #7B3B99 !important ; min-width: 60px !important;}\r\n      .ce-my-message-timestamp { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; font-size: 12px !important; padding: 15px !important; margin-right: 0px !important; letter-spacing: -1px; }\r\n      .ce-their-message-body { font-family: 'Avenir' !important; padding: 15px !important; background-color: #434756 !important; color: white !important; }\r\n      .ce-their-message-timestamp { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; font-size: 12px !important; padding: 15px !important; margin-left: 0px !important; letter-spacing: -1px; }\r\n      .ce-their-message-timestamp { color: rgb(241, 240, 240) !important; letter-spacing: -1px; }\r\n      .ce-their-message-sender-username { color: #999 !important; }\r\n      .ce-message-file { background-color: #434758 !important; color: #c5c5c5 !important; border-radius: 8px !important; }\r\n      .ce-message-image { background-color: #434758 !important; color: #c5c5c5 !important; border-radius: 8px !important; padding: 0px !important; max-width: 124px !important; max-height: 124px !important; }\r\n\r\n      .ce-mobile-chat-list-button { top: 32px !important; left: 0px !important; }\r\n      .ce-mobile-chat-settings-button { display: none !important; }\r\n\r\n      .ce-avatar-status { border: 2px solid rgb(40,43,54) !important; width: 7px !important; height: 7px !important; }\r\n      .ce-custom-message-form {background-color: white !important ; color : black !important }\r\n      .ce-custom-message-input {background-color: white !important ; color : black !important ; border : 1px solid #7B3B99 !important; color : black !important ; margin-right: 0px !important }\r\n      .ce-custom-send-button {background-color: #7B3B99 !important ; width: 50px ! important; }\r\n      .ce-custom-chat-header {width: 100% !important; padding-left:2vw !important ; padding-right:2vw !important; border-bottom : 2px solid black !important;}\r\n      .\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  col0: {\r\n    display: 'block',\r\n    flex: '0 0 0%',\r\n    maxWidth: '0%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col1: {\r\n    display: 'block',\r\n    flex: '0 0 4.16666667%',\r\n    maxWidth: '4.16666667%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col8: {\r\n    display: 'block',\r\n    flex: '0 0 28.33333%',\r\n    maxWidth: '28.3333%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col9: {\r\n    display: 'block',\r\n    flex: '0 0 37.5%',\r\n    maxWidth: '37.5%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col14: {\r\n    display: 'block',\r\n    flex: '0 0 66.33333333%',\r\n    maxWidth: '66.33333333%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col16: {\r\n    display: 'block',\r\n    flex: '0 0 66.66666667%',\r\n    maxWidth: '66.66666667%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col22: {\r\n    display: 'block',\r\n    flex: '0 0 91.66666667%',\r\n    maxWidth: '91.66666667%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  col24: {\r\n    display: 'block',\r\n    flex: '0 0 100%',\r\n    maxWidth: '100%',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n  messageForm: {\r\n    height: '68px',\r\n    marginLeft: '12px',\r\n    marginRight: '12px',\r\n    width: 'calc(100% - 12px - 12px)',\r\n    borderRadius: '0px 0px 8px 8px',\r\n    backgroundColor: 'white',\r\n  } as React.CSSProperties,\r\n};\r\n"],"names":["useIsMobile","useState","size","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","getOtherUsers","chat","username","otherMembers","people","filter","member","person","map","getChatTitle","otherUsers","length","first_name","last_name","title","i","OtherAvatars","props","memberOne","undefined","memberTwo","memberThree","React","style","Avatar","className","avatarUrl","avatar","styles","is_online","online","offline","width","height","lineHeight","fontSize","top","left","display","position","marginLeft","transition","border","boxShadow","nowTimeStamp","Date","toISOString","replace","Math","floor","random","ChatHeader","isFilePickerLoading","setFilePickerLoading","isDeleteLoading","setDeleteLoading","otherMember","onFilesSelect","e","headers","projectId","secret","formdata","FormData","filesArr","Array","from","target","files","forEach","file","append","name","JSON","stringify","axios","post","id","then","onDelete","r","onDeleteChat","data","chatHeader","chatAvatars","headerText","headerTitle","headerSubtitle","headerSubtitleMain","iconWrapper","htmlFor","LoadingOutlined","color","PaperClipOutlined","headerIcon","multiple","visibility","type","onChange","DeleteFilled","onClick","fontFamily","paddingTop","fontWeight","textAlign","cursor","ChatForm","didMountRef","useRef","options","setOptions","selected","setSelected","useEffect","current","getAllUsers","users","user","value","label","console","log","onSuccess","onError","get","chatForm","Select","autoFocus","isMulti","customStyles","placeholder","createChatButton","createChatButtonDisabled","onCancel","disabled","PlusOutlined","container","marginTop","control","provided","outline","backgroundColor","borderRadius","input","option","state","isFocused","noOptionsMessage","menu","right","CustomChatCard","messageText","last_message","text","hasNotification","sender_username","ChatCard","description","avatarUsername","avatarStyle","isActive","renderAvatar","onChatCardClick","margin","titleStyle","subtitleStyle","bottom","timeStampStyle","activeStyle","notificationStyle","MessageForm","setText","setIsFocused","onSubmit","event","preventDefault","trim","message","created","custom_json","attachments","messageForm","messageInput","messageInputFocused","onFocus","onBlur","sendButton","CaretUpFilled","marginRight","letterSpacing","padding","ChatListHeader","chatListHeader","chatListHeaderTitle","chatListHeaderButton","onNewChatClick","FormOutlined","paddingBottom","PrettyChatWindow","isChatFormActive","setIsChatFormActive","chatFormUsers","setChatFromUsers","isMobile","chatProps","useMultiChatLogic","httpUrl","getOrCreateChat","usernames","put","onChatFormChange","parse","justifyContent","MultiChatSocket","col0","col8","ChatList","renderChatForm","setActiveChatId","renderChatCard","chatId","activeChatId","col22","col14","ChatFeed","renderChatHeader","chatHeaderProps","renderMessageList","MessageList","messages","renderMessageForm","flex","maxWidth","col1","col9","col16","col24"],"mappings":"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"}