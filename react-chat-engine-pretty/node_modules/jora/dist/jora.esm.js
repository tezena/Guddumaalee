var tn=Object.defineProperty;var ue=(t,e)=>{for(var r in e)tn(t,r,{get:e[r],enumerable:!0})};var br="1.0.0-beta.7";var l=function(t,e,r={}){return t.forEach(n=>r[n]=e),r},Pe=[2,5],Oe=[1,13],f=[1,41],h=[1,18],L=[1,7],D=[1,8],F=[1,10],j=[1,11],q=[1,12],b=[1,19],k=[1,20],E=[1,21],S=[1,22],_=[1,23],O=[1,24],N=[1,25],w=[1,29],A=[1,32],v=[1,33],T=[1,34],P=[1,35],R=[1,36],C=[1,37],I=[1,42],M=[1,43],V=[1,40],mt=[5,18,56,59],be=[1,47],Z=[1,55],X=[1,54],pe=[1,48],fe=[1,49],he=[1,50],ye=[1,51],ge=[1,52],me=[1,53],W=[1,56],H=[1,57],J=[1,58],se=[1,59],ae=[1,60],ee=[1,61],te=[1,62],re=[1,63],ne=[1,64],oe=[1,65],de=[1,66],xe=[5,9,14,15,17,18,19,22,23,24,44,45,46,47,48,49,50,54,56,58,59,60,61,62,63,64,72,73,76,77,80],Re=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,66,74,75,77],dt=[1,67],bt=[1,68],kt=[1,69],Et=[1,70],St=[1,71],_t=[1,72],kr=[1,73],G=[1,76],Er=[5,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],Sr=[2,46],_r=[1,82],Or=[1,83],Nr=[2,48],wr=[1,84],Ot=[1,86],B=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],Ar=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,58,59,60,61,62,63,64,66,74,75,77,84],Le=[1,93],vr=[1,94],qe=[1,95],He=[1,111],Je=[1,110],Tr=[1,116],Qe=[1,119],Ze=[1,120],Xe=[1,121],Ke=[1,122],et=[1,123],Pr=[9,14,15,17,19,22,23,24,44,45,46,47,48,49,50,54,58,60,61,62,63,64,72,73,74,75,76],tt=[5,10,11,18,21,56,59,66,74,75,77],Rr=[5,10,11,18,21,29,30,41,56,59,66,74,75,77],rt=[5,10,11,18,21,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],De=[56,66],Cr=[2,115],Ir=[11,56],Se=[66,77],Mr=[2,102],Vr=[2,103],nt=[5,10,11,18,21,25,26,27,28,29,30,41,56,59,66,74,75,77],Nt=[5,10,11,18,21,25,26,27,28,29,30,34,35,40,41,56,59,66,74,75,77],it=[5,10,11,18,21,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],$r=[1,199],xr=[1,201],Lr=[59,66],Dr=[1,211],Fr=[2,109],rn=function(){return{yy:{},options:{ranges:!0},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,(e,r)=>{if(e[0]!==(r==="template"?"}":"`"))return null;for(let n=1;n<e.length;n++){if(e[n]==="`")return n+1;if(e[n]==="$"&&e[n+1]==="{")return n+2;e[n]==="\\"&&n++}return null},(e,r)=>{if(e[0]!==(r==="template"?"}":"`"))return null;for(let n=1;n<e.length;n++){if(e[n]==="`")return n+1;if(e[n]==="$"&&e[n+1]==="{")return n+2;e[n]==="\\"&&n++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not?\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(\d+\.|\.)?\d+([eE][-+]?\d+)?\b)/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/[gimsu]*)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^<(?!=)/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^./,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},template:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}},performAction(e,r,n,o){let i=o;switch(n){case 0:{e.commentRanges.push(r.yylloc.range);break}case 1:break;case 2:{return this.popState(),32;break}case 3:{return this.popState(),36;break}case 4:{this.done=!1,this.popState();break}case 5:{let a=r.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return r.yytext=this.toStringLiteral(r.yytext,!0,1+Number(a!=="TEMPLATE")),a==="TEMPLATE"&&e.pps(),a;break}case 6:{let a=r.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return r.yytext=this.toStringLiteral(r.yytext,!0,1+Number(a!=="TPL_END")),this.popState(),a==="TPL_END"&&e.pps(),a;break}case 7:{this.parseError("Unexpected end of input");break}case 8:return 58;case 9:{return e.pps(),59;break}case 10:return 54;case 11:{return e.pps(),56;break}case 12:return 76;case 13:{if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return e.pps(),77;this.unput("}"),this.begin("template");break}case 14:{return r.yytext=this.toLiteral(r.yytext),50;break}case 15:return 29;case 16:return 30;case 17:return 28;case 18:return 26;case 19:return 25;case 20:return 27;case 21:return 22;case 22:return 84;case 23:{return e.pps(),r.yytext=Number(r.yytext),48;break}case 24:{return e.pps(),r.yytext=parseInt(r.yytext,16),48;break}case 25:{return e.pps(),r.yytext=this.toStringLiteral(r.yytext),47;break}case 26:{return e.pps(),r.yytext=this.toStringLiteral(r.yytext),47;break}case 27:{return e.pps(),r.yytext=this.toRegExp(r.yytext),49;break}case 28:{return e.pps(),r.yytext=this.ident(r.yytext),14;break}case 29:{return e.pps(),r.yytext=this.ident(r.yytext.slice(1)),15;break}case 30:{return e.pps(),44;break}case 31:{return e.pps(),45;break}case 32:{return e.pps(),46;break}case 33:{return e.pps(),9;break}case 34:return 19;case 35:{return this.fnOpened++,17;break}case 36:return 34;case 37:return 35;case 38:return 40;case 39:return 39;case 40:return 37;case 41:return 36;case 42:return this.fnOpened?(this.fnOpened--,18):38;case 43:return 64;case 44:return 61;case 45:return 62;case 46:return 80;case 47:{return e.pps(),63;break}case 48:{return e.pps(),60;break}case 49:return 41;case 50:return 66;case 51:return 11;case 52:return 10;case 53:return 23;case 54:return 24;case 55:return 31;case 56:return 32;case 57:return 33;case 58:return 21;case 59:{this.parseError(`Bad input on line ${r.yylloc.first_line} column ${r.yylloc.first_column}
`+this.showPosition(),{text:r.yytext,token:"BAD_TOKEN"});break}case 60:return 5}},setInput(e,r){return this.yy=r||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,r){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,r)},input(){let e=this._input[this.offset],r=/\n|\r\n?|\u2028|\u2029/g.test(e);return this.offset++,this.yyleng++,this.yytext=this.match=this.yytext+e,r?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,e},lineColumnForOffset(e=this.offset,r=this._input,n=1,o=0){let i=/\n|\r\n?|\u2028|\u2029/g,a=n,s=o,g=0,y;for(;(y=i.exec(r))!==null;)if(y.index<e)a++,s=0,g=y.index+y[0].length;else{s+=e-g,g=-1;break}return g!==-1&&(s+=e-g),{line:a,column:s}},setMatch(e,r){let n=this._input.slice(e,r),o=e!==this.offset?this.lineColumnForOffset(e):{line:this.yylloc.last_line,column:this.yylloc.last_column},i=e!==r?this.lineColumnForOffset(r-e,n,o.line,o.column):o;this.yytext=this.match=n,this.yyleng=r-e,this.offset=r,this.yylineno=i.line-1,this.yylloc={first_line:o.line,first_column:o.column,last_line:i.line,last_column:i.column},this.yylloc.range=[e,r]},less(e){let r=this.offset-this.match.length;this.setMatch(r,r+e)},unput(e){let r=this.match.length-e.length;if(!this.match.startsWith(e,r))throw new Error("Lexer#unput() should receive a part of matched text only");this.less(r)},more(){this._more=!0},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},showPosition(e=this.offset-this.match.length){let r=this._input,n=Math.max(e-20,0),o=Math.min(e+20,r.length),i=(n===0?"":"...")+r.slice(n,e).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n"),a=r.slice(e,o).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")+(o===r.length?"":"...");return i+a+`
${"-".repeat(i.length)}^`},test_match(e,r){let n;this._more=!1,this._backtrack=!1,this.setMatch(this.offset,this.offset+e[0].length),this.matches=e;let o=this.performAction.call(this,this.yy,this,r,this.conditionStack[this.conditionStack.length-1]);return!o&&this._backtrack?(Object.assign(this,n),!1):(this.eof()||(this.done=!1),typeof o=="number"&&this.yy.parser?this.yy.parser.terminals_[o]:o||!1)},eof(){return this.offset===this._input.length},next(){if(this.done)return 1;this.eof()&&(this.done=!0),this._more||(this.yytext="",this.match="");let e,r;for(let n of this.conditions[this.currentCondition].rules){let o=this.rules[n],i=this._input.slice(this.offset),a;if(typeof o=="function"){let s=o(i,this.currentCondition);switch(typeof s){case"string":a=[s];break;case"number":a=[i.slice(0,s)];break;default:a=s}}else a=i.match(o);if(a&&(!e||a[0].length>e[0].length)){e=a,r=n;break}}if(e)return this.test_match(e,r);if(this.eof())return 1;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}}}();function wt(){this.yy={}}wt.prototype={Parser:wt,lexer:rn,symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,query:16,FUNCTION_START:17,FUNCTION_END:18,FUNCTION:19,sortingCompareList:20,"|":21,NOT:22,"-":23,"+":24,IN:25,HAS:26,NOTIN:27,HASNO:28,AND:29,OR:30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,"?":41,queryRoot:42,relativePath:43,"@":44,"#":45,$$:46,STRING:47,NUMBER:48,REGEXP:49,LITERAL:50,template:51,object:52,array:53,"[":54,sliceNotation:55,"]":56,"method()":57,"(":58,")":59,".":60,".(":61,".[":62,"..":63,"..(":64,arguments:65,",":66,templateString:67,templateStart:68,templateTail:69,templateEnd:70,templateContinue:71,TEMPLATE:72,TPL_START:73,TPL_CONTINUE:74,TPL_END:75,"{":76,"}":77,objectEntries:78,objectEntry:79,"...":80,arrayElements:81,arrayElement:82,sortingCompare:83,ORDER:84,sliceNotationComponent:85,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"FUNCTION_START",18:"FUNCTION_END",19:"FUNCTION",21:"|",22:"NOT",23:"-",24:"+",25:"IN",26:"HAS",27:"NOTIN",28:"HASNO",29:"AND",30:"OR",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"?",44:"@",45:"#",46:"$$",47:"STRING",48:"NUMBER",49:"REGEXP",50:"LITERAL",54:"[",56:"]",58:"(",59:")",60:".",61:".(",62:".[",63:"..",64:"..(",66:",",72:"TEMPLATE",73:"TPL_START",74:"TPL_CONTINUE",75:"TPL_END",76:"{",77:"}",80:"...",84:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[7,1],[7,3],[7,2],[7,1],[7,3],[7,4],[7,2],[7,2],[7,2],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,5],[16,1],[16,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,3],[42,1],[42,1],[42,3],[42,4],[42,2],[42,2],[42,3],[42,3],[42,2],[42,2],[42,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[57,3],[57,4],[57,3],[57,4],[65,1],[65,3],[51,1],[51,2],[69,1],[69,2],[69,2],[69,3],[67,1],[68,1],[71,1],[70,1],[52,2],[52,3],[52,4],[52,3],[52,4],[52,5],[78,1],[78,3],[79,1],[79,1],[79,1],[79,3],[79,3],[79,3],[79,3],[79,3],[79,5],[79,1],[79,2],[81,1],[81,3],[82,1],[82,1],[82,2],[53,2],[53,3],[53,4],[20,1],[20,3],[83,2],[55,1],[55,2],[55,2],[55,3],[85,1],[85,2]],table:[{3:1,4:2,5:Pe,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{1:[3]},{5:[1,44]},l(mt,[2,3],{16:6,20:9,12:14,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,7:45,8:46,9:Oe,14:f,15:h,17:L,19:D,22:F,23:j,24:q,44:b,45:k,46:E,47:S,48:_,49:O,50:N,54:w,58:A,60:v,61:T,62:P,63:R,64:C,72:I,73:M,76:V}),l(mt,[2,4],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(xe,[2,6]),l(Re,[2,14],{54:dt,60:bt,61:kt,62:Et,63:St,64:_t,84:kr}),{4:74,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,18:Pe,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:75,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l([5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,74,75,77],[2,17],{66:[1,78]}),{7:79,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:80,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:81,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(Er,Sr,{10:_r,11:Or}),l(Er,Nr,{10:wr,11:[1,85],58:Ot}),l(B,[2,42]),l(B,[2,43]),l(Re,[2,121]),l(Ar,[2,13]),l(B,[2,44]),l(B,[2,45]),l(B,[2,47]),l(B,[2,49]),l(B,[2,50]),l(B,[2,51]),l(B,[2,52]),l(B,[2,53]),l(B,[2,54]),l(B,[2,55]),{7:91,9:G,11:Le,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,55:87,56:[1,88],57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,80:vr,81:89,82:92,83:17,85:90},l(B,[2,57],{58:qe}),l(B,[2,58]),{6:97,7:96,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{12:100,13:98,14:f,15:h,57:99},{4:101,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:Pe,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{4:102,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,56:Pe,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{12:100,13:103,14:f,15:h,57:104},{4:105,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:Pe,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(B,[2,84]),{7:108,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,69:106,70:107,71:109,72:I,73:M,74:He,75:Je,76:V,83:17},{6:114,8:5,9:Tr,12:117,13:118,14:f,15:h,47:Qe,48:Ze,50:Xe,54:Ke,77:[1,112],78:113,79:115,80:et},l(Ar,[2,12]),l(B,[2,90]),l(Pr,[2,91]),{1:[2,1]},l(mt,[2,2],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(xe,[2,7]),{6:125,7:124,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:126,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:127,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:128,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:129,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:130,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:131,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:132,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:133,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:134,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:135,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:136,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:137,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:138,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:139,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:140,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:141,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:142,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:143,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:144,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:146,9:G,11:Le,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,55:147,56:[1,145],57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17,85:90},{12:100,13:148,14:f,15:h,57:149},{4:150,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:Pe,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{4:151,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,56:Pe,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{12:100,13:152,14:f,15:h,57:153},{4:154,6:3,7:4,8:5,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:Pe,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(Re,[2,123]),{18:[1,155]},l(tt,[2,16],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(B,Sr),l(B,Nr,{58:Ot}),{9:G,12:77,13:30,14:f,15:h,16:157,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:156},l(Rr,[2,20],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(rt,[2,21],{31:W,32:H,33:J}),l(rt,[2,22],{31:W,32:H,33:J}),l(xe,[2,8]),{7:158,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(xe,[2,10]),{7:159,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:162,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:[1,160],60:v,61:T,62:P,63:R,64:C,65:161,67:38,68:39,72:I,73:M,76:V,83:17},{56:[1,163]},l(B,[2,118]),{56:[1,164],66:[1,165]},{11:Le,56:[2,124],85:166},l(De,Cr,{85:167,11:Le,21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(De,[2,113]),l(Ir,[2,128],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:168,9:G,14:f,15:h,17:L,19:D,22:F,23:j,24:q,44:b,45:k,46:E,47:S,48:_,49:O,50:N,54:w,58:A,60:v,61:T,62:P,63:R,64:C,72:I,73:M,76:V}),l(De,[2,116],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:169,9:G,14:f,15:h,17:L,19:D,22:F,23:j,24:q,44:b,45:k,46:E,47:S,48:_,49:O,50:N,54:w,58:A,60:v,61:T,62:P,63:R,64:C,72:I,73:M,76:V}),{7:162,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,59:[1,170],60:v,61:T,62:P,63:R,64:C,65:171,67:38,68:39,72:I,73:M,76:V,83:17},{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de,59:[1,172]},{7:173,8:46,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(B,[2,61],{58:qe}),l(B,[2,62]),{58:Ot},{59:[1,174]},{56:[1,175]},l(B,[2,65],{58:qe}),l(B,[2,66]),{59:[1,176]},l(B,[2,85]),l(B,[2,86]),{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de,70:177,71:178,74:He,75:Je},{7:108,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,69:179,70:107,71:109,72:I,73:M,74:He,75:Je,76:V,83:17},l(B,[2,93]),l(Pr,[2,92]),l(B,[2,94]),{66:[1,181],77:[1,180]},{8:46,9:Tr,12:117,13:118,14:f,15:h,47:Qe,48:Ze,50:Xe,54:Ke,77:[1,182],78:183,79:115,80:et},l(Se,[2,100]),l(Se,Mr,{10:_r,11:Or}),l(Se,Vr,{10:wr,11:[1,184]}),l(Se,[2,104],{11:[1,185]}),{11:[1,186]},{11:[1,187]},{11:[1,188]},{7:189,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(Se,[2,111],{42:15,43:16,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,16:190,9:G,14:f,15:h,44:b,45:k,46:E,47:S,48:_,49:O,50:N,54:w,58:A,60:v,61:T,62:P,63:R,64:C,72:I,73:M,76:V}),l(tt,[2,18],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),{7:191,8:46,9:Oe,12:14,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(nt,[2,23],{23:Z,24:X,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(nt,[2,24],{23:Z,24:X,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(nt,[2,25],{23:Z,24:X,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(nt,[2,26],{23:Z,24:X,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(Rr,[2,27],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l([5,10,11,18,21,30,41,56,59,66,74,75,77],[2,28],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe}),l(rt,[2,29],{31:W,32:H,33:J}),l(rt,[2,30],{31:W,32:H,33:J}),l(Re,[2,31]),l(Re,[2,32]),l(Re,[2,33]),l(Nt,[2,34],{23:Z,24:X,31:W,32:H,33:J,36:ee,37:te,38:re,39:ne}),l(Nt,[2,35],{23:Z,24:X,31:W,32:H,33:J,36:ee,37:te,38:re,39:ne}),l(it,[2,36],{23:Z,24:X,31:W,32:H,33:J}),l(it,[2,37],{23:Z,24:X,31:W,32:H,33:J}),l(it,[2,38],{23:Z,24:X,31:W,32:H,33:J}),l(it,[2,39],{23:Z,24:X,31:W,32:H,33:J}),l(Nt,[2,40],{23:Z,24:X,31:W,32:H,33:J,36:ee,37:te,38:re,39:ne}),{11:[1,192],21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de},l(B,[2,68]),{11:Le,21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de,56:[1,193],85:167},{56:[1,194]},l(B,[2,71],{58:qe}),l(B,[2,72]),{59:[1,195]},{56:[1,196]},l(B,[2,75],{58:qe}),l(B,[2,76]),{59:[1,197]},l(Re,[2,15]),l(Re,[2,122]),{54:dt,60:bt,61:kt,62:Et,63:St,64:_t,84:kr},{10:[1,198],21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de},{10:$r,21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de},l(B,[2,80]),{59:[1,200],66:xr},l(Lr,[2,82],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(B,[2,56]),l(B,[2,119]),{7:204,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,56:[1,202],57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,80:vr,82:203,83:17},{56:[2,125]},{11:Le,56:[2,126],85:205},l(Ir,[2,129],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(De,[2,117],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(B,[2,78]),{59:[1,206],66:xr},l(B,[2,59]),{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de,59:[1,207]},l(B,[2,63]),l(B,[2,64]),l(B,[2,67]),l(B,[2,87]),{7:108,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,69:208,70:107,71:109,72:I,73:M,74:He,75:Je,76:V,83:17},l(B,[2,88]),l(B,[2,95]),{9:Dr,12:212,13:118,14:f,15:h,47:Qe,48:Ze,50:Xe,54:Ke,77:[1,209],79:210,80:et},l(B,[2,97]),{66:[1,214],77:[1,213]},{7:215,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:216,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:217,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:218,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{7:219,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de,56:[1,220]},l(Se,[2,112],{54:dt,60:bt,61:kt,62:Et,63:St,64:_t}),l(tt,[2,19],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),{7:221,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(B,[2,69]),l(B,[2,70]),l(B,[2,73]),l(B,[2,74]),l(B,[2,77]),l(xe,[2,9]),l(xe,[2,11]),l(B,[2,81]),{7:222,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(B,[2,120]),l(De,[2,114]),l(De,Cr,{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),{56:[2,127]},l(B,[2,79]),l(B,[2,60]),l(B,[2,89]),l(B,[2,96]),l(Se,[2,101]),l(Se,Mr),l(Se,Vr,{11:[1,223]}),l(B,[2,98]),{9:Dr,12:212,13:118,14:f,15:h,47:Qe,48:Ze,50:Xe,54:Ke,77:[1,224],79:210,80:et},l(Se,Fr,{10:$r,21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Se,[2,105],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Se,[2,106],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Se,[2,107],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Se,[2,108],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),{11:[1,225]},l(tt,[2,41],{23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Lr,[2,83],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),{7:226,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(B,[2,99]),{7:227,9:G,12:77,13:30,14:f,15:h,16:6,17:L,19:D,20:9,22:F,23:j,24:q,42:15,43:16,44:b,45:k,46:E,47:S,48:_,49:O,50:N,51:26,52:27,53:28,54:w,57:31,58:A,60:v,61:T,62:P,63:R,64:C,67:38,68:39,72:I,73:M,76:V,83:17},l(Se,Fr,{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de}),l(Se,[2,110],{21:be,23:Z,24:X,25:pe,26:fe,27:he,28:ye,29:ge,30:me,31:W,32:H,33:J,34:se,35:ae,36:ee,37:te,38:re,39:ne,40:oe,41:de})],defaultActions:{44:[2,1],166:[2,125],205:[2,127]},performAction(t,e,r,n,o,i,a){let s=i.length-1;switch(o){case 1:return n.buildResult(i[s-1]);case 2:this.$={type:"Block",definitions:i[s-1],body:i[s],range:this._$.range};break;case 3:this.$={type:"Block",definitions:i[s],body:{type:"Placeholder",range:[a[s].range[1],a[s].range[1]]},range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:i[s],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:{type:"Placeholder",range:[a[s].range[1],a[s].range[1]]},range:this._$.range};break;case 6:case 82:case 84:case 100:case 113:case 121:this.$=[i[s]];break;case 7:i[s-1].push(i[s]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:a[s-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:a[s-3].range},value:i[s-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:i[s-1].name,range:a[s-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:i[s-3].name,range:a[s-3].range},value:i[s-1],range:this._$.range};break;case 12:case 13:this.$={type:"Identifier",name:i[s],range:this._$.range};break;case 14:case 42:case 43:case 54:case 55:case 115:break;case 15:this.$={type:"Function",arguments:[],body:i[s-1],legacy:!0,range:this._$.range};break;case 16:this.$={type:"Function",arguments:[],body:i[s],legacy:!1,range:this._$.range};break;case 17:this.$={type:"SortingFunction",compares:i[s],range:this._$.range};break;case 18:this.$={type:"Pipeline",left:i[s-2],right:i[s],range:this._$.range};break;case 19:this.$={type:"Pipeline",left:i[s-3],right:{type:"Block",definitions:i[s-1],body:i[s]},range:this._$.range};break;case 20:case 21:case 22:this.$={type:"Unary",operator:i[s-1],argument:i[s],range:this._$.range};break;case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:this.$={type:"Binary",operator:i[s-1],left:i[s-2],right:i[s],range:this._$.range};break;case 41:this.$={type:"Conditional",test:i[s-4],consequent:i[s-2],alternate:i[s],range:this._$.range};break;case 44:this.$={type:"Data",range:this._$.range};break;case 45:this.$={type:"Context",range:this._$.range};break;case 46:this.$={type:"Current",range:this._$.range};break;case 47:this.$={type:"Arg1",range:this._$.range};break;case 48:this.$={type:"Reference",name:i[s],range:this._$.range};break;case 49:case 50:case 51:case 52:case 90:case 91:case 92:case 93:this.$={type:"Literal",value:i[s],range:this._$.range};break;case 53:this.$={type:"Template",values:i[s],range:this._$.range};break;case 56:this.$={type:"SliceNotation",value:null,arguments:i[s-1],range:this._$.range};break;case 57:case 61:this.$={type:"GetProperty",value:null,property:i[s],range:this._$.range};break;case 58:case 62:this.$={type:"MethodCall",value:null,method:i[s],range:this._$.range};break;case 59:this.$={type:"Parentheses",body:i[s-1],range:this._$.range};break;case 60:this.$={type:"Parentheses",body:{type:"Block",definitions:i[s-2],body:i[s-1]},range:this._$.range};break;case 63:this.$={type:"Map",value:null,query:i[s-1],range:this._$.range};break;case 64:this.$={type:"Filter",value:null,query:i[s-1],range:this._$.range};break;case 65:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:i[s]},range:this._$.range};break;case 66:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:i[s]},range:this._$.range};break;case 67:this.$={type:"MapRecursive",value:null,query:i[s-1],range:this._$.range};break;case 68:this.$={type:"Pick",value:i[s-2],getter:null,range:this._$.range};break;case 69:this.$={type:"Pick",value:i[s-3],getter:i[s-1],range:this._$.range};break;case 70:this.$={type:"SliceNotation",value:i[s-3],arguments:i[s-1],range:this._$.range};break;case 71:this.$={type:"GetProperty",value:i[s-2],property:i[s],range:this._$.range};break;case 72:this.$={type:"MethodCall",value:i[s-2],method:i[s],range:this._$.range};break;case 73:this.$={type:"Map",value:i[s-3],query:i[s-1],range:this._$.range};break;case 74:this.$={type:"Filter",value:i[s-3],query:i[s-1],range:this._$.range};break;case 75:this.$={type:"MapRecursive",value:i[s-2],query:{type:"GetProperty",value:null,property:i[s]},range:this._$.range};break;case 76:this.$={type:"MapRecursive",value:i[s-2],query:{type:"MethodCall",value:null,method:i[s]},range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:i[s-3],query:i[s-1],range:this._$.range};break;case 78:this.$={type:"Method",reference:i[s-2],arguments:[],range:this._$.range};break;case 79:this.$={type:"Method",reference:i[s-3],arguments:i[s-1],range:this._$.range};break;case 80:this.$={type:"Method",reference:{type:"Reference",name:i[s-2]},arguments:[],range:this._$.range};break;case 81:this.$={type:"Method",reference:{type:"Reference",name:i[s-3]},arguments:i[s-1],range:this._$.range};break;case 83:case 101:case 114:case 122:i[s-2].push(i[s]);break;case 85:this.$=[i[s-1],...i[s]];break;case 86:case 124:this.$=[null,i[s]];break;case 87:case 126:this.$=[i[s-1],i[s]];break;case 88:this.$=[null,i[s-1],...i[s]];break;case 89:this.$=[i[s-2],i[s-1],...i[s]];break;case 94:case 97:this.$={type:"Object",properties:[],range:this._$.range};break;case 95:this.$={type:"Object",properties:i[s-1],range:this._$.range};break;case 96:this.$={type:"Object",properties:i[s-2],range:this._$.range};break;case 98:this.$={type:"Block",definitions:i[s-2],body:{type:"Object",properties:i[s-1]},range:this._$.range};break;case 99:this.$={type:"Block",definitions:i[s-3],body:{type:"Object",properties:i[s-2]},range:this._$.range};break;case 102:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 103:this.$={type:"ObjectEntry",key:{type:"Reference",name:i[s]},value:null,range:this._$.range};break;case 104:this.$={type:"ObjectEntry",key:i[s],value:null,range:this._$.range};break;case 105:this.$={type:"ObjectEntry",key:i[s-2],value:i[s],range:this._$.range};break;case 106:case 107:case 108:this.$={type:"ObjectEntry",key:{type:"Literal",value:i[s-2]},value:i[s],range:this._$.range};break;case 109:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+i[s-2].name},value:i[s],range:this._$.range};break;case 110:this.$={type:"ObjectEntry",key:i[s-3],value:i[s],range:this._$.range};break;case 111:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 112:this.$={type:"Spread",query:i[s],array:!1,range:this._$.range};break;case 116:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 117:this.$={type:"Spread",query:i[s],array:!0,range:this._$.range};break;case 118:this.$={type:"Array",elements:[],range:this._$.range};break;case 119:this.$={type:"Array",elements:i[s-1],range:this._$.range};break;case 120:this.$={type:"Array",elements:i[s-2],range:this._$.range};break;case 123:this.$={type:"Compare",query:i[s-1],order:i[s],range:this._$.range};break;case 125:this.$=[null,i[s-1],i[s]];break;case 127:this.$=[i[s-2],i[s-1],i[s]];break;case 128:this.$=null;break;case 129:this.$=i[s];break}},trace(...t){this.DEBUG&&Jison.print(...t)},parseError(t,e){if(e.recoverable)this.trace(t);else{let r=new Error(t);throw r.hash=e,r}},parse(t,...e){let s=le=>{$.length-=2*le,p.length-=le,Y.length-=le},g=()=>{let le=y.lex()||1;return typeof le!="number"&&(le=this.symbols_[le]||le),le},y=Object.create(this.lexer),ie=y.options&&y.options.ranges,Q={...this.yy,parser:this,lexer:y};y.setInput(t,Q),typeof Q.parseError=="function"&&(this.parseError=Q.parseError),typeof y.yylloc>"u"&&(y.yylloc={});let m=this.table,K={},ce=y.yylloc,$=[0],p=[null],Y=[ce],u=[],d="",c=0,z=0,U=0,x,Ee;for(;;){let le=$[$.length-1],Ne;if(this.defaultActions[le]?Ne=this.defaultActions[le]:((x===null||typeof x>"u")&&(x=g()),Ne=m[le]&&m[le][x]),!Ne||!Ne[0]){let We=function(Ae){let Ve=$.length-1,dr=0;for(;;){if(2 .toString()in m[Ae])return dr;if(Ae===0||Ve<2)return!1;Ve-=2,Ae=$[Ve],++dr}},Me,Te="";if(!U){let Ae=[];for(let Ve in m[le])Ve in this.terminals_&&Ve>2&&Ae.push("'"+this.terminals_[Ve]+"'");Te=y.showPosition?"Parse error on line "+(c+1)+`:
`+y.showPosition()+`
Expecting `+Ae.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(c+1)+": Unexpected "+(x===1?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(Te,{text:y.match,token:this.terminals_[x]||x,line:y.yylineno,loc:ce,expected:Ae})}if(U===3){if(x===1||Ee===1)throw new Error(Te||"Parsing halted while starting to recover from another error.");z=y.yyleng,d=y.yytext,c=y.yylineno,ce=y.yylloc,x=g()}if(Me===!1)throw new Error(Te||"Parsing halted. No suitable error recovery rule available.");s(Me),Ee=x==2?null:x,x=2,le=$[$.length-1],Ne=m[le]&&m[le][2],U=3}if(Array.isArray(Ne[0])&&Ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+x);switch(Ne[0]){case 1:$.push(x),p.push(y.yytext),Y.push(y.yylloc),$.push(Ne[1]),x=null,Ee?(x=Ee,Ee=null):(z=y.yyleng,d=y.yytext,c=y.yylineno,ce=y.yylloc,U>0&&U--);break;case 2:{let Me=this.productions_[Ne[1]][1],Te=Y[Y.length-(Me||1)],We=Y[Y.length-1];K.$=p[p.length-Me],K._$={first_line:Te.first_line,last_line:We.last_line,first_column:Te.first_column,last_column:We.last_column},ie&&(K._$.range=[Te.range[0],We.range[1]]);let Ae=this.performAction.call(K,d,z,c,Q,Ne[1],p,Y,...e);if(typeof Ae<"u")return Ae;Me&&s(Me),$.push(this.productions_[Ne[1]][0]),p.push(K.$),Y.push(K._$),$.push(m[$[$.length-2]][$[$.length-1]]);break}case 3:return!0}}}};var nn=function(e){function r(u,d){Object.entries(d).forEach(([c,z])=>u[c]=z(u[c]))}let n=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["FUNCTION_START",["'<'"]],["FUNCTION_END",["'>'"]],["FUNCTION",["'=>'"]],["NOT",["'not'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]]]),o=u=>n.get(u)||`'${u}'`,i=function(u,d={},c){if(d.recoverable)this.trace(u);else{if(Array.isArray(d.inside)){let le=c.lexer.offset-c.lexer.match.length;c.lexer.setMatch(le+d.inside[0],le+d.inside[1])}let z=c.lexer.yylloc,U=[u.split(/\n/)[0],"",c.lexer.showPosition()],x=Array.isArray(d.expected)?[...new Set([].concat(...d.expected.map(le=>o(le.slice(1,-1)))))]:null;x&&U.push("","Expecting "+x.join(", ")+" got "+o(d.token));let Ee=new SyntaxError(U.join(`
`));throw Ee.details={rawMessage:u,text:d.text,token:d.token,expected:x,loc:{range:z.range,start:{line:z.first_line,column:z.first_column,offset:z.range[0]},end:{line:z.last_line,column:z.last_column,offset:z.range[1]}}},Ee}},a=new Set([`
`,"\r","\u2028","\u2029"]),s=new Map([["null",null],["false",!1],["true",!0],["Infinity",1/0],["NaN",NaN]]);Object.assign(e.lexer,{ident:u=>u.replace(/\\u[0-9a-fA-F]{4}/g,d=>String.fromCharCode(parseInt(d.slice(2),16))),toLiteral:u=>s.get(u),toStringLiteral(u,d=!1,c=1){let z=u.length-c,U="";for(let x=1;x<z;x++){if(!d&&a.has(u[x])&&this.parseError("Invalid line terminator",{inside:[x,x+1]}),u[x]!=="\\"){U+=u[x];continue}x===z-1&&this.parseError("Invalid backslash",{inside:[x,x+1]});let Ee=u[++x];switch(Ee){case"\r":x+=u[x+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"0":U+="\0";break;case"b":U+="\b";break;case"n":U+=`
`;break;case"r":U+="\r";break;case"f":U+="\f";break;case"t":U+="	";break;case"v":U+="\v";break;case"u":{let[le=""]=u.slice(x+1,x+5).match(/^[0-9a-f]*/i)||[];if(le.length===4){U+=String.fromCharCode(parseInt(le,16)),x+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:[x-1,Math.min(x+1+le.length,z)]});break}case"x":{let[le=""]=u.slice(x+1,x+3).match(/^[0-9a-f]*/i)||[];if(le.length===2){U+=String.fromCharCode(parseInt(le,16)),x+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:[x-1,Math.min(x+1+le.length,z)]});break}default:U+=Ee}}return U},toRegExp(u){let d=u.lastIndexOf("/")+1,c=u.substr(d);return c.split("").forEach((z,U,x)=>{let Ee=x.indexOf(z,U+1);Ee!==-1&&this.parseError("Duplicate flag in regexp",{inside:[d+Ee,d+Ee+1]})}),new RegExp(u.substr(1,u.lastIndexOf("/")-1),c)}}),r(e.lexer,{setInput:u=>function(d,c){let z=[];return c.commentRanges=z,c.buildResult=U=>({ast:U,commentRanges:z}),c.parseError=function(...U){return i.call(this,...U,c)},c.pps=()=>{this.eof()||this.begin("preventPrimitive")},this.fnOpened=0,this.fnOpenedStack=[],this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},u.call(this,d,c)}});let g=new e.Parser;g.lexer={...e.lexer},g.yy={...e.yy};let y=["AND","OR","IN","NOTIN","HAS","HASNO"],ie=[...y,"NOT","ORDER"],Q=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],m=[null,":",";",",",".","..","(","[",".(","..(",".[","FUNCTION",...Q,...y,"NOT"],K=new Set([",","?",":",";","EOF","]",")","}","TPL_CONTINUE","TPL_END",...Q,...y,"ORDER"]),ce=new Map(m.map(u=>[u,K]));ce.set("{",new Set([","])),ce.set("[",new Set([...K,","])),ce.set("(",new Set([...K,","])),r(g.lexer,{lex:u=>function(){let c=this.offset,z=u.call(this);if(ce.has(this.prevToken)&&ce.get(this.prevToken).has(z)){let U={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.match),this.pushState("preventPrimitive"),this.done=!1,this.yytext="",this.yylloc=this.prevYylloc=U,c!==this.offset&&ie.includes(z))switch(this._input[c]){case" ":case"	":U.last_column--,U.range[1]--;break;case`
`:{let x=this._input.lastIndexOf(`
`,c-1);U.last_line--,U.last_column=x===-1?U.last_column-1:c-x,U.range[1]--;break}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,ie.includes(z))switch(this._input[this.offset]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break}return this.prevToken=z}});let $=new Map([["(",")"],[".(",")"],["..(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),p=new Set([")","]","}","TPL_END"]),Y=u=>function(){let c=u.call(this);if(p.has(c)){let z=this.bracketStack.pop();z!==c&&this.parseError(`Expected "${z}" got "${c}"`),this.fnOpened=this.fnOpenedStack.pop()||0}return $.has(c)&&(this.bracketStack.push($.get(c)),this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0),c};return r(e.lexer,{lex:Y}),r(g.lexer,{lex:Y}),{parse(u,d){return d?g.parse(u):e.parse(u)},*tokenize(u,d,c){let z=d?g:e,U=Object.create(z.lexer);for(U.setInput(u,{parser:z});!U.done;){let x={type:U.lex(),value:U.match,offset:U.yylloc.range[0]};c&&(x.loc={range:U.yylloc.range,start:{line:U.yylloc.first_line,column:U.yylloc.first_column},end:{line:U.yylloc.last_line,column:U.yylloc.last_column}}),yield x}}}}(new wt),st=nn;var At={};ue(At,{compile:()=>sn,stringify:()=>on,walk:()=>an});function sn(t,e){e.put(e.scope.arg1?"arguments[1]":"undefined")}function an(){}function on(t,e){e.put("$$")}var vt={};ue(vt,{compile:()=>un,stringify:()=>pn,suggest:()=>ln,walk:()=>cn});function ln(t,e){t.elements.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function un(t,e){e.put("["),e.list(t.elements,","),e.put("]")}function cn(t,e){e.list(t.elements)}function pn(t,e){e.put("["),e.list(t.elements,","),e.put("]")}var Tt={};ue(Tt,{compile:()=>hn,stringify:()=>gn,suggest:()=>fn,walk:()=>yn});var jr={in:"in","not in":"notIn",has:"has","has no":"hasNo",and:"and",or:"or","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"};function at(t,e,r){if(r.type==="Array"){if(r.elements.length===0){t.range([r.range[0]+1,r.range[1]-1],"value-subset",e,!1);return}let n=[];for(let{type:i,range:a,value:s}of r.elements)a&&(i==="Literal"||i==="Identifier")&&n.push(s);let o=n.length?t.literalList(n):!1;for(let{type:i,range:a,value:s}of r.elements)a&&(i==="Literal"||i==="Identifier"||i==="GetProperty"&&s===null)&&t.range(a,"value-subset",e,o)}}function fn(t,e){switch(t.operator){case"in":e.range(t.left.range,"in-value",t.right,null),at(e,t.left,t.right);break;case"not in":at(e,t.left,t.right);break;case"has":e.range(t.right.range,"in-value",t.left,null),at(e,t.right,t.left);break;case"has no":at(e,t.right,t.left);break;case"=":case"!=":e.range(t.right.range,"value",t.left,null);break}}function hn(t,e){if(!(t.operator in jr)){e.error('Unknown operator "'+t.operator+'"',t);return}switch(t.operator){case"and":e.put("!");case"or":{let r=e.allocateVar();e.put(`${e.buildinFn("bool")}(${r}=`),e.node(t.left),e.put(`)?${r}:`),e.scope.captureCurrent.disabled=!0,e.node(t.right),e.scope.captureCurrent.disabled=!1;break}case"has no":e.put("!");case"has":e.put(e.buildinFn("in")),e.put("("),e.node(t.right),e.put(","),e.node(t.left),e.put(")");break;default:e.put(e.buildinFn(jr[t.operator])),e.put("("),e.node(t.left),e.put(","),e.node(t.right),e.put(")")}}function yn(t,e){e.node(t.left),e.node(t.right)}function gn(t,e){e.node(t.left),/^[a-z]/i.test(t.operator)?(e.put(" "),e.put(t.operator),e.put(" ")):e.put(t.operator),e.node(t.right)}var Pt={};ue(Pt,{compile:()=>dn,stringify:()=>kn,suggest:()=>mn,walk:()=>bn});function mn(t,e){t.body===null&&e.queryRoot(t.range[1])}function dn(t,e){t.definitions.length?e.createScope(()=>{e.put("(()=>{"),e.list(t.definitions),e.put("return "),e.nodeOrCurrent(t.body),e.put("})()")},(r,n)=>r+n+";"):t.body&&t.body.type==="Object"?(e.put("("),e.nodeOrCurrent(t.body),e.put(")")):e.nodeOrCurrent(t.body)}function bn(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}function kn(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}var Rt={};ue(Rt,{compile:()=>En,stringify:()=>_n,walk:()=>Sn});var qr={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"};function En(t,e){t.order.startsWith("desc")&&e.put("-"),e.createScope(()=>{let r=qr[t.order.slice(3+t.order.startsWith("desc"))]||qr[""];e.put(e.buildinFn(r)),e.put("((_q=$=>("),e.node(t.query),e.put("))(a),_q(b))")},(r,n)=>r+n+",")}function Sn(t,e){e.node(t.query)}function _n(t,e){e.node(t.query),e.put(" "),e.put(t.order)}var Ct={};ue(Ct,{compile:()=>On,stringify:()=>wn,walk:()=>Nn});function On(t,e){e.put(e.buildinFn("bool")),e.put("("),e.node(t.test),e.scope.captureCurrent.disabled=!0,e.put(")?"),e.node(t.consequent),e.put(":"),e.node(t.alternate),e.scope.captureCurrent.disabled=!1}function Nn(t,e){e.node(t.test),e.node(t.consequent),e.node(t.alternate)}function wn(t,e){e.node(t.test),e.put("?"),e.node(t.consequent),e.put(":"),e.node(t.alternate)}var It={};ue(It,{compile:()=>An,stringify:()=>Tn,walk:()=>vn});function An(t,e){e.put("context")}function vn(){}function Tn(t,e){e.put("#")}var Mt={};ue(Mt,{compile:()=>Rn,stringify:()=>In,suggest:()=>Pn,walk:()=>Cn});function Pn(t,e){t.range&&e.range(t.range,"var")}function Rn(t,e){e.put("$")}function Cn(){}function In(t,e){e.put("$")}var Vt={};ue(Vt,{compile:()=>Mn,stringify:()=>$n,walk:()=>Vn});function Mn(t,e){e.put("data")}function Vn(){}function $n(t,e){e.put("@")}var $t={};ue($t,{compile:()=>xn,stringify:()=>Dn,walk:()=>Ln});function xn(t,e){t.name&&e.put("$"+t.name)}function Ln(){}function Dn(t,e){e.put(t.name?"$"+t.name:"$")}var xt={};ue(xt,{compile:()=>qn,stringify:()=>Yn,suggest:()=>jn,walk:()=>Bn});function ot(t,e){return{type:"GetProperty",value:t,property:e}}function lt(t){return{type:"Identifier",name:t}}var Fn=["data","context","ctx","array","idx","index"];function jn(t,e){t.value===null&&e.range(t.declarator.range,"path")}function qn(t,e){if(t.declarator.name===null){e.node(t.declarator),e.nodeOrCurrent(t.value),e.put(";");return}if(e.scope.own.includes(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" has already been declared`,t.declarator);return}if(Fn.includes(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" is reserved for future use`,t.declarator);return}e.put("const "),e.node(t.declarator),e.put("="),e.node(t.value||ot(null,lt(t.declarator.name))),e.put(";"),e.scope.push(t.declarator.name),e.scope.own.push(t.declarator.name)}function Bn(t,e){e.node(t.declarator),e.nodeOrNothing(t.value)}function Yn(t,e){e.node(t.declarator),t.value!==null&&(e.put(":"),e.node(t.value)),e.put(";")}var Lt={};ue(Lt,{compile:()=>Un,stringify:()=>Gn,walk:()=>zn});function Un(t,e){e.put(e.buildinFn("filter")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(r,n)=>(e.put(")"),r+"("+n+",")),e.put(")")}function zn(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function Gn(t,e){e.nodeOrNothing(t.value),e.put(".["),e.node(t.query),e.put("]")}var Dt={};ue(Dt,{compile:()=>Wn,stringify:()=>Jn,walk:()=>Hn});function Wn(t,e){e.createScope(()=>{e.scope.arg1=!0,e.put("function($){return "),e.node(t.body),e.put("}")},(r,n)=>r+n+",")}function Hn(t,e){e.node(t.body)}function Jn(t,e){t.legacy?(e.put("<"),e.node(t.body),e.put(">")):(e.put("=>"),e.node(t.body))}var Ft={};ue(Ft,{compile:()=>Zn,stringify:()=>Kn,suggest:()=>Qn,walk:()=>Xn});function Qn(t,e){e.range(t.property.range,"path",t.value||void 0,!t.value),t.value===null&&e.range(t.property.range,"var"),t.range&&t.value===null&&t.property.range[0]!==t.range[0]&&e.queryRoot(t.range[0])}function Zn(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.put(","),t.property.type==="Identifier"?e.put(JSON.stringify(t.property.name)):e.node(t.property),e.put(")")}function Xn(t,e){e.nodeOrNothing(t.value),e.node(t.property)}function Kn(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.property)}var jt={};ue(jt,{compile:()=>ei,stringify:()=>ri,walk:()=>ti});function ei(t,e){e.put(t.name)}function ti(){}function ri(t,e){e.put(t.name)}var qt={};ue(qt,{compile:()=>ni,stringify:()=>si,walk:()=>ii});function ni(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}function ii(){}function si(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}var Bt={};ue(Bt,{compile:()=>ai,stringify:()=>li,walk:()=>oi});function ai(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(r,n)=>(e.put(")"),r+"("+n+",")),e.put(")")}function oi(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function li(t,e){e.nodeOrNothing(t.value),e.put(".("),e.node(t.query),e.put(")")}var Yt={};ue(Yt,{compile:()=>ui,stringify:()=>pi,walk:()=>ci});function ui(t,e){e.put(e.buildinFn("mapRecursive")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(r,n)=>(e.put(")"),r+"("+n+",")),e.put(")")}function ci(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function pi(t,e){e.nodeOrNothing(t.value),e.put(".."),e.isSimpleGetPropertyQuery(t.query)||e.isSimpleMethodCallQuery(t.query)?e.node(t.query):(e.put("("),e.node(t.query),e.put(")"))}var Ut={};ue(Ut,{compile:()=>hi,stringify:()=>gi,suggest:()=>fi,walk:()=>yi});function fi(t,e){t.arguments.length===0&&e.queryRoot(t.range[1]-1)}function hi(t,e,r){e.tolerant&&e.put("(typeof "),t.reference.type==="Identifier"&&(e.usedMethods.has(t.reference.name)?e.usedMethods.get(t.reference.name).push(t.reference.range):e.usedMethods.set(t.reference.name,t.reference.range),e.put("m.")),e.node(t.reference),e.tolerant&&(e.put('==="function"?'),t.reference.type==="Identifier"&&e.put("m."),e.node(t.reference)),e.put("("),e.nodeOrCurrent(r),t.arguments.length&&(e.put(","),e.list(t.arguments,",")),e.put(")"),e.tolerant&&e.put(":undefined)")}function yi(t,e){e.node(t.reference),e.list(t.arguments)}function gi(t,e){e.node(t.reference),e.put("("),e.list(t.arguments,","),e.put(")")}var zt={};ue(zt,{compile:()=>mi,stringify:()=>bi,walk:()=>di});function mi(t,e){e.node(t.method,t.value)}function di(t,e){e.nodeOrNothing(t.value),e.node(t.method)}function bi(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.method)}var Gt={};ue(Gt,{compile:()=>Ei,stringify:()=>_i,suggest:()=>ki,walk:()=>Si});function ki(t,e){t.properties.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function Ei(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}function Si(t,e){e.list(t.properties)}function _i(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}var Wt={};ue(Wt,{compile:()=>wi,stringify:()=>vi,suggest:()=>Ni,walk:()=>Ai});var Oi=new Set(["Literal","Identifier","Reference","Current"]);function Ni(t,e){if(t.value===null)switch(t.key.type){case"Identifier":e.range(t.range,"path"),e.range(t.range,"var");break;case"Current":case"Reference":e.range(t.range,"var");break}}function wi(t,e){let r=t.value;switch(t.key.type){case"Current":return;case"Literal":e.node(t.key);break;case"Identifier":e.node(t.key),r=r||ot(null,lt(t.key.name));break;case"Reference":e.node(t.key.name),r=r||t.key;break;default:e.put("["),e.node(t.key),e.put("]")}e.put(":"),e.node(r)}function Ai(t,e){e.node(t.key),e.nodeOrNothing(t.value)}function vi(t,e){if(Oi.has(t.key.type)){if(e.node(t.key),t.value===null)return}else e.put("["),e.node(t.key),e.put("]");e.put(":"),e.node(t.value)}var Ht={};ue(Ht,{compile:()=>Ti,stringify:()=>Ri,walk:()=>Pi});function Ti(t,e){e.put("("),e.node(t.body),e.put(")")}function Pi(t,e){e.node(t.body)}function Ri(t,e){e.put("("),e.node(t.body),e.put(")")}var Jt={};ue(Jt,{compile:()=>Ii,stringify:()=>Vi,suggest:()=>Ci,walk:()=>Mi});function Ci(t,e){if(t.getter===null){let r=t.range[1]-1;e.range([r,r],"key",t.value,!1),e.queryRoot(r)}else(t.getter.type==="GetProperty"||t.getter.type==="Reference"||t.getter.type==="Literal"&&typeof t.getter.value=="string")&&e.range(t.getter.range,"key",t.value,!1)}function Ii(t,e){e.put(e.buildinFn("pick")),e.put("("),e.node(t.value),t.getter&&(e.put(","),e.node(t.getter)),e.put(")")}function Mi(t,e){e.node(t.value),t.getter!==null&&e.node(t.getter)}function Vi(t,e){e.node(t.value),e.put("["),t.getter!==null&&e.node(t.getter),e.put("]")}var Qt={};ue(Qt,{compile:()=>$i,stringify:()=>Li,walk:()=>xi});function $i(t,e){e.createScope(()=>{e.put("($=>("),e.node(t.right),e.put("))")},(r,n)=>r+n+";"),e.put("("),e.node(t.left),e.put(")")}function xi(t,e){e.node(t.left),e.node(t.right)}function Li(t,e){e.node(t.left),e.put("|"),e.node(t.right)}var Zt={};ue(Zt,{compile:()=>Fi,stringify:()=>qi,suggest:()=>Di,walk:()=>ji});function Di(t,e){e.queryRoot(t.range[1])}function Fi(t,e){e.put("$")}function ji(){}function qi(){}var Xt={};ue(Xt,{compile:()=>Yi,stringify:()=>zi,suggest:()=>Bi,walk:()=>Ui});function Bi(t,e){t.range&&e.range(t.range,"var")}function Yi(t,e){if(!e.scope.includes(t.name.name)&&e.tolerant){e.put("(typeof $"),e.node(t.name),e.put('!=="undefined"?$'),e.node(t.name),e.put(":undefined)");return}e.put("$"),e.node(t.name)}function Ui(t,e){e.node(t.name)}function zi(t,e){e.put("$"),e.node(t.name)}var Kt={};ue(Kt,{compile:()=>Gi,stringify:()=>Hi,walk:()=>Wi});function Gi(t,e){e.put(e.buildinFn("slice")),e.put("("),e.nodeOrCurrent(t.value),t.arguments.slice(0,3).forEach(r=>{e.put(","),r?e.node(r):e.put("undefined")}),e.put(")")}function Wi(t,e){e.nodeOrNothing(t.value);for(let r of t.arguments.slice(0,3))r&&e.node(r)}function Hi(t,e){let[r,n,o]=t.arguments;e.nodeOrNothing(t.value),e.put("["),r&&e.node(r),e.put(":"),n&&e.node(n),o&&(e.put(":"),e.node(o)),e.put("]")}var er={};ue(er,{compile:()=>Ji,stringify:()=>Zi,walk:()=>Qi});function Ji(t,e){e.put("(a, b)=>{let _q;return "),e.list(t.compares,"||"),e.put("||0}")}function Qi(t,e){e.list(t.compares)}function Zi(t,e){e.list(t.compares,",")}var tr={};ue(tr,{compile:()=>Ki,stringify:()=>ts,suggest:()=>Xi,walk:()=>es});function Xi(t,e){t.query===null&&e.queryRoot(t.range[1])}function Ki(t,e){if(t.array){e.put("..."),e.put(e.buildinFn("ensureArray")),e.put("("),e.nodeOrCurrent(t.query),e.put(")");return}e.put("..."),e.nodeOrCurrent(t.query)}function es(t,e){e.nodeOrNothing(t.query)}function ts(t,e){e.put("..."),e.nodeOrNothing(t.query)}var rr={};ue(rr,{compile:()=>ns,stringify:()=>ss,suggest:()=>rs,walk:()=>is});function rs(t,e){for(let[r,n]of Object.entries(t.values))n===null&&e.queryRoot(t.values[Number(r)-1].range[1])}function ns(t,e){for(let[r,n]of Object.entries(t.values)){let o=Number(r);n!==null&&(o!==0&&e.put("+"),o%2===0?e.put('"'+Br(n.value,as)+'"'):(e.put("("),e.node(n),e.put(")")))}}function is(t,e){for(let r of t.values)r!==null&&e.node(r)}function ss(t,e){let r=t.values.length-1;for(let[n,o]of Object.entries(t.values)){let i=Number(n);i%2===0?(e.put(i===0?"`":"}"),e.put(Br(o.value,os)),e.put(i===r?"`":"${")):o!==null&&e.node(o)}}var as=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),os=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]]);function Br(t,e){let r="";for(let n=0;n<t.length;n++)r+=e.get(t[n])||t[n];return r}var nr={};ue(nr,{compile:()=>ls,stringify:()=>cs,walk:()=>us});function ls(t,e){switch(t.operator){case"no":case"not":e.put("!"),e.put(e.buildinFn("bool")),e.put("("),e.node(t.argument),e.put(")");break;case"+":case"-":e.put(t.operator),e.node(t.argument);break;default:e.error('Unknown operator "'+t.operator+'"',t)}}function us(t,e){e.node(t.argument)}function cs(t,e){e.put(t.operator),t.operator!=="-"&&t.operator!=="+"&&e.put(" "),e.node(t.argument)}var ps={Arg1:At,Array:vt,Binary:Tt,Block:Pt,Compare:Rt,Conditional:Ct,Context:It,Current:Mt,Data:Vt,Declarator:$t,Definition:xt,Filter:Lt,Function:Dt,GetProperty:Ft,Identifier:jt,Literal:qt,Map:Bt,MapRecursive:Yt,Method:Ut,MethodCall:zt,Object:Gt,ObjectEntry:Wt,Parentheses:Ht,Pick:Jt,Pipeline:Qt,Placeholder:Zt,Reference:Xt,SliceNotation:Kt,SortingFunction:er,Spread:tr,Template:rr,Unary:nr},Be=t=>new Map(Object.entries(ps).map(([e,r])=>[e,r[t]]).filter(([,e])=>typeof e=="function")),fs={};Be("build").forEach((t,e)=>fs[e]=t);var ir=Be("compile"),sr=Be("walk"),ar=Be("stringify"),or=Be("suggest");function Ye(t,e){function r(a){if(sr.has(a.type))o(a),sr.get(a.type)(a,n),i(a);else throw new Error('Unknown node type "'+a.type+'"')}let n={node:r,nodeOrNothing(a){a!==null&&r(a)},list(a){a.forEach(r)}},o=()=>{},i=()=>{};typeof e=="function"&&(e={enter:e}),e&&(typeof e.enter=="function"&&(o=e.enter),typeof e.leave=="function"&&(i=e.leave)),r(t)}function Yr(t,e){return e>=0&&e<t.length&&/[a-zA-Z_$0-9]/.test(t[e])}function lr(t,e){let r=t.charCodeAt(e);return r===9||r===10||r===13||r===32}function hs(t,e,r){for(;e<r;e++)if(!lr(t,e))return!1;return!0}function ys(t,e,r,n,o){let i=[];for(let a=0;a<n.length;a++){let[s,g]=n[a];if(s>=e)break;s<t||(i.push(t,s),t=g)}return(t!==r.length||!o)&&i.push(t,e),i}function gs(t,e,r,n){let o=[];for(let i=0;i<t.length;i++){let[a,s,g,y]=t[i];if(hs(e,a,s)){for(;a>=0&&lr(e,a-1);)a--;for(;s<e.length&&lr(e,s);)s++;if(Yr(e,a-1)){if(a===s)continue;a++}if(Yr(e,s)){if(a===s)continue;s--}}let ie=ys(a,s,e,r,n);for(let Q=0;Q<ie.length;Q+=2)o.push([ie[Q],ie[Q+1],g,y])}return o}function ms(t){let e=null,r=[],n=Object.assign(new Map,{literalList:r}),o=(a,s)=>{n.has(a)?n.get(a).push(s):n.set(a,[s])},i={range(a,s,g=e,y=!0){o(g,[...a,s,y])},literalList(a){let s="l"+r.length;return r.push([s,a]),s},queryRoot(a,s=a){o(e,[a,s,"var",!0]),o(e,[a,s,"path",!0])}};return Ye(t,a=>{if(or.has(a.type)){let s=e;e=a,or.get(a.type)(a,i),e=s}}),n}function ut(t,{ast:e,commentRanges:r}){let n=ms(e),o=r.length&&r[r.length-1][1]===t.length&&!/[\r\n]$/.test(t);for(let[i,a]of n)n.set(i,gs(a,t,r,o));return n}function ds(t){return t.type==="GetProperty"}function bs(t){return t.type==="MethodCall"}function ct(t){function e(o){if(ar.has(o.type))ar.get(o.type)(o,n);else throw new Error('Unknown node type "'+o.type+'"')}let r=[],n={isSimpleGetPropertyQuery:ds,isSimpleMethodCallQuery:bs,put(o){r.push(o)},node:e,nodeOrNothing(o){if(o!==null)return e(o),!0},list(o,i){if(!i){o.forEach(e);return}o.forEach((a,s)=>{s>0&&n.put(i),e(a)})}};return e(t),r.join("")}var we=Object.hasOwnProperty,ks=Object.prototype.toString;function Fe(t,e){return e!==void 0&&(Array.isArray(e)?e.forEach(r=>t.add(r)):t.add(e)),t}function Ur(t,e){return t&&we.call(t,e)?t[e]:void 0}function ve(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function pt(t){return ks.call(t)==="[object RegExp]"}function zr(t){return t&&we.call(t,"length")}function ur(t,e,r){let n=Object.assign(Object.create(SyntaxError.prototype),r),o=new Error;return n.name=t,n.message=e,Object.defineProperty(n,"stack",{get:function(){return(o.stack||"").replace(/^(.+\n){1,3}/,t+": "+e+`
`)}}),n}function ft(t,e=!1,r=null){function n(p){let Y="s"+g.length;return g.push(p?[Y,p]:[Y]),Y}function o(p){let Y=y.get(p);return Y||y.set(p,Y=n()),Y}function i(p,Y,u,d,c){let z=[p,Y,JSON.stringify(u)];if(u==="var"){if(!$.scope.length)return;z.push(JSON.stringify($.scope))}else d||(d=n()),z.push(d),c&&z.push(typeof c=="string"?c:o(c));return Q.push(z),d}function a(p,Y){let u=$.scope,d=m.length;if($.scope=$.scope.slice(),$.scope.own=[],$.scope.firstCurrent=null,$.scope.captureCurrent=[],$.scope.arg1=u.arg1||!1,p(),$.scope.captureCurrent.length){let c=$.scope.captureCurrent.reduce((U,x)=>i(...x,U),void 0),z="stat("+c+",$)";$.scope.firstCurrent?m[$.scope.firstCurrent]=z:m[d]=Y(m[d],z)}$.scope=u}function s(p,Y){let u=!1;if(r!==null){if(r.has(p))for(let[d,c,z,U]of r.get(p))z==="var"?i(d,c,z):U===!0?$.scope.captureCurrent.push([d,c,z]):(u||(u=o(p),m.push("stat("+u+",")),z&&i(d,c,z,u,U));p.type==="Current"&&$.scope.firstCurrent===null&&$.scope.captureCurrent.disabled!==!0&&($.scope.firstCurrent=m.length)}if(ir.has(p.type))ir.get(p.type)(p,$,Y);else throw new Error('Unknown node type "'+p.type+'"');u&&m.push(")")}let g=[],y=new WeakMap,ie=[],Q=[],m=["((data,context)=>{","const $=data;",{toString(){return ie.length>0?"let "+ie+`;
`:""}},{toString(){return g.length>0?[`const stat=(s,v)=>(s.add(v),v);
`,"const "+g.map(([p,Y])=>p+"=new Set("+(Y?JSON.stringify(Y):"")+")")+`;
`].join(""):""}},{toString(){let p=r&&Array.isArray(r.literalList)&&r.literalList.map(([Y,u])=>Y+"="+JSON.stringify(u));return p&&p.length?"const "+p+`;
`:""}},"return "],K={},ce=new Set,$={tolerant:e,usedMethods:new Map,buildinFn(p){return ce.add(p),"f."+p},scope:[],createScope:a,error:(p,Y)=>{let u=new SyntaxError(p);if(Y&&Y.range&&(u.details={loc:{range:Y.range}}),!e)throw u},allocateVar(){let p="tmp"+ie.length;return ie.push(p),p},put:p=>m.push(p),node:s,nodeOrCurrent(p,Y){s(p||{type:"Current"},Y)},list(p,Y,u){p.forEach((d,c)=>{c>0&&m.push(Y),s(d,u)})}};if(a(()=>s(t),(p,Y)=>(m.push(")"),"("+Y+","+p)),!e&&$.usedMethods.size){let{usedMethods:p}=$;m.unshift(" this.assertMethods(m)||"),K.assertMethods=function(Y){for(let[u,d]of p.entries())if(!we.call(Y,u))return()=>{throw Object.assign(new Error(`Method "${u}" is not defined`),{details:{loc:{range:d}}})}}}r!==null&&m.push(`
,[`+Q.map(p=>"["+p+"]")+"]");try{let p=new Function("f,m","return"+m.join("")+"})");return Object.assign(p.bind(K),{toString(){return p.toString().replace(/^(\S+\s+)anonymous([^)\s]+)\s*\)/,"$1query$2)")}})}catch(p){throw ur("SyntaxError","Jora query compilation error",{compiledSource:m.join(""),details:p})}}var ke=(t,e)=>e<t.length?t.charCodeAt(e):0,ht=t=>t===43||t===45,Ce=t=>t>=48&&t<=57,cr=t=>t===9||t===10||t===12||t===13||t===32,pr=t=>t>32&&t<256&&(t<65||t>90)&&(t<97||t>122)&&(t<48||t>57)&&t!==43&&t!==45||t===8470;function Es(t,e,r){return ht(t)?Ce(e)?2:e===46&&Ce(r)?3:0:Ce(t)?1:0}function fr(t,e){for(;Ce(ke(t,e));)e++;return e}function Ss(t,e,r){let n=ke(t,e);if(ht(n)&&(n=ke(t,e+=1)),Ce(n)&&(e=fr(t,e+1),n=ke(t,e)),n===46&&Ce(ke(t,e+1))){if(r)return e;let o=e+2;if(o=fr(t,o),ke(t,o)===46)return e;e=o}if(n=ke(t,e),n===69||n===101){let o=0;n=ke(t,e+1),ht(n)&&(o=1,n=ke(t,e+2)),Ce(n)&&(e=fr(t,e+1+o+1))}return e}function Gr(t,e,r,n){if(e>=t.length)return 0;let o=ke(t,e);if(cr(o)){let g=e+1;for(;cr(ke(t,g));)g++;return 1|g-e<<3}if(pr(o)||n&&ht(o)){let g=e+1,y=o;do o=y,y=ke(t,g++);while(pr(y)||y===o);return 2|g-e-1<<3}let i=ke(t,e+1),a=ke(t,e+2);if(Es(o,i,a))return 3|Ss(t,e,r)-e<<3;let s=e;do o=i,i=a,a=ke(t,3+s++);while(s<t.length&&!cr(o)&&!pr(o)&&!Ce(o));return 4|s-e<<3}function Wr(t,e,r){let n=0,o=0,i=!1,a=!1,s=0,g=0,y=!0;do{let ie=Gr(t,n,i,a),Q=Gr(e,o,i,a),m=ie&7,K=ie>>3,ce=Q&7,$=Q>>3;if(m!==ce&&y){if((m===1||m===2)&&(ce===3||ce===4)){s=1,g=m,n+=K;continue}if((ce===1||ce===2)&&(m===3||m===4)){s=-1,g=ce,o+=$;continue}}if(y=!1,m!==ce)return m<ce?-1:1;if(i=!1,a=!1,m===0)return s;let p=K<$?K:$,Y=K-$,u=0;for(;u<p;u++){let d=t[n+u],c=e[o+u];if(d!==c){Y=d<c?-1:1;break}}if(m===1||m===2)Y!==0&&(s===0||m>g)&&(g=m,s=Y),i=t[n+K-1]===".";else if(m===3){if(a=!0,Y!==0){let d=t.substr(n,K)-e.substr(o,$);if(d!==0)return r?-d:d;if(s===0||m>g){let c=ke(t,n),z=ke(e,o),U=c===45?-1:1;g=m,s=c!==z&&(c===45||z===43)?-1:c!==z&&(c===43||z===45)?1:(K!==$?K<$:Y<0)?-U:U,r&&(s=-s)}}}else{if(Y!==0){if(u<p){let d=t[n+u].toLowerCase(),c=e[o+u].toLowerCase();if(d!==c)return d<c?-1:1}return Y}i=t[n+K-1]==="."}n+=K,o+=$}while(!0)}function Hr(t,e){let r=typeof t,n=typeof e,o=0;return(r==="number"||r==="string")&&(n==="number"||n==="string")&&(o=Math.sign(Wr(String(t),String(e),!1))),o}function Jr(t,e){let r=typeof t,n=typeof e,o=0;return(r==="number"||r==="string")&&(n==="number"||n==="string")&&(o=Math.sign(Wr(String(t),String(e),!0))),o}var _s=1,Os=2,je=3,Ue=4,Ns=5,ws=6,As=7,vs=8;function Ie(t){switch(typeof t){case"boolean":return _s;case"number":return t!==t?Os:je;case"string":return Ue;case"object":return t===null?Ns:ws;case"undefined":return vs;default:return As}}var _e=Object.freeze({ensureArray:Ts,bool:$e,and:(t,e)=>$e(t)?e:t,or:(t,e)=>$e(t)?t:e,add:Ps,sub:Rs,mul:Cs,div:Is,mod:Ms,eq:Vs,ne:$s,lt:xs,lte:Ls,gt:Ds,gte:Fs,in:yt,notIn:(t,e)=>!yt(t,e),has:(t,e)=>yt(e,t),hasNo:(t,e)=>!yt(e,t),cmp:js,cmpAnalytical:qs,cmpNatural:Bs,cmpNaturalAnalytical:Ys,match:Us,pick:zs,map:hr,mapRecursive:Gs,some:yr,filter:Ws,slice:Hs});function Ts(t){return Array.isArray(t)?t:[t]}function $e(t){if(Array.isArray(t))return t.length>0;if(ve(t)){for(let e in t)if(we.call(t,e))return!0;return!1}return Boolean(t)}function Ps(t,e){return Array.isArray(t)||Array.isArray(e)?[...new Set([].concat(t,e))]:t+e}function Rs(t,e){if(Array.isArray(t)){let r=new Set(t);return Array.isArray(e)?e.forEach(n=>r.delete(n)):r.delete(e),[...r]}return t-e}function Cs(t,e){return t*e}function Is(t,e){return t/e}function Ms(t,e){return t%e}function Vs(t,e){return Object.is(t,e)}function $s(t,e){return!Object.is(t,e)}function xs(t,e){return t<e}function Ls(t,e){return t<=e}function Ds(t,e){return t>e}function Fs(t,e){return t>=e}function yt(t,e){return ve(e)?we.call(e,t):e&&typeof e.indexOf=="function"?e.indexOf(t)!==-1:!1}function js(t,e){let r=Ie(t),n=Ie(e);return r!==n?r<n?-1:1:t<e?-1:t>e?1:0}function qs(t,e){let r=Ie(t),n=Ie(e);return r!==n?r<n?-1:1:r===je?e-t:t<e?-1:t>e?1:0}function Bs(t,e){let r=Ie(t),n=Ie(e);return(r===je||r===Ue)&&(n===je||n===Ue)?Hr(t,e):r!==n?r<n?-1:1:t<e?-1:t>e?1:0}function Ys(t,e){let r=Ie(t),n=Ie(e);return(r===je||r===Ue)&&(n===je||n===Ue)?Jr(t,e,!0):r!==n?r<n?-1:1:t<e?-1:t>e?1:0}function Us(t,e){return typeof e=="function"?yr(t,e):pt(e)?yr(t,e.test.bind(e)):e==null}function zs(t,e=()=>!0){if(!!t){if(typeof e=="function"){if(Array.isArray(t)||typeof t=="string"){for(let r=0;r<t.length;r++)if(e(t[r],r))return t[r]}for(let r in t)if(we.call(t,r)&&e(t[r],r))return t[r];return}return Array.isArray(t)||typeof t=="string"?isFinite(e)?t[e<0?t.length+Number(e):Number(e)||0]:void 0:we.call(t,e)?t[e]:void 0}}function hr(t,e){let r=typeof e=="function"?e:n=>Ur(n,e);return Array.isArray(t)?[...t.reduce((n,o)=>Fe(n,r(o)),new Set)]:t!==void 0?r(t):t}function Gs(t,e){let r=new Set;return Fe(r,hr(t,e)),r.forEach(n=>Fe(r,hr(n,e))),[...r]}function yr(t,e){return Array.isArray(t)?t.some(r=>$e(e(r))):$e(e(t))}function Ws(t,e){return Array.isArray(t)?t.filter(r=>$e(e(r))):$e(e(t))?t:void 0}function Hs(t,e=0,r=t&&t.length,n=1){if(!zr(t))return[];if(e=parseInt(e,10)||0,r=parseInt(r,10)||t.length,n=parseInt(n,10)||1,n!==1){let o=[];e=e<0?Math.max(0,t.length+e):Math.min(t.length,e),r=r<0?Math.max(0,t.length+r):Math.min(t.length,r);for(let i=n>0?e:r-1;i>=e&&i<r;i+=n)o.push(t[i]);return o}return typeof t=="string"?t.slice(e,r):Array.prototype.slice.call(t,e,r)}function Js(){}function Qs(t){return t}function Qr(t){return{matched:t.slice(),start:t.index,end:t.index+t[0].length,input:t.input,groups:t.groups||null}}var Zs=Zr(20)?1/0:Zr(10)?10:0;function Zr(t){return Array.from({length:t},(e,r)=>({idx:r})).sort((e,r)=>e.idx%2-r.idx%2).every((e,r)=>r<t/2?e.idx>>1===r:Math.ceil(t/2)+(e.idx>>1)===r)}function Xs(t,e){return t.length<=Zs?t.slice().sort(e):t.map((r,n)=>({value:r,idx:n})).sort((r,n)=>(r.value===void 0?n.value!==void 0:n.value===void 0?-1:e(r.value,n.value))||r.idx-n.idx).map(r=>r.value)}var ze=Object.freeze({bool:_e.bool,filter:_e.filter,map:_e.map,pick:_e.pick,keys(t){return Object.keys(t||{})},values(t){let e=new Set;for(let r in t)we.call(t,r)&&Fe(e,t[r]);return[...e]},entries(t){let e=[];for(let r in t)we.call(t,r)&&e.push({key:r,value:t[r]});return e},fromEntries(t){let e={};return Array.isArray(t)&&t.forEach(r=>{r&&(e[r.key]=r.value)}),e},size(t){return ve(t)?Object.keys(t).length:t&&t.length||0},sort(t,e){let r;return Array.isArray(t)?(typeof e=="function"?r=e.length===2?e:(n,o)=>{if(n=e(n),o=e(o),Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return n.length<o.length?-1:1;for(let i=0;i<n.length;i++){if(n[i]<o[i])return-1;if(n[i]>o[i])return 1}return 0}return n<o?-1:n>o}:r=_e.cmp,Xs(t,r)):t},reverse(t){return Array.isArray(t)?t.slice().reverse():t},slice(t,e,r){return _e.slice(t,e,r)},group(t,e,r){typeof e!="function"&&(e=Js),typeof r!="function"&&(r=Qs),Array.isArray(t)||(t=[t]);let n=new Map,o=[];return t.forEach(i=>{let a=e(i);Array.isArray(a)||(a=[a]),a.forEach(s=>{n.has(s)?n.get(s).add(r(i)):n.set(s,new Set([r(i)]))})}),n.forEach((i,a)=>o.push({key:a,value:[...i]})),o},split(t,e){return String(t).split(e)},join(t,e){return Array.isArray(t)?t.join(e):String(t)},match(t,e,r){let n=String(t),o=pt(e)?e.flags:"";if(r||o.includes("g")){let a=[],s=new RegExp(e,(o||"").replace(/g|$/,"g")),g;for(;g=s.exec(n);)a.push(Qr(g));return a}let i=n.match(e);return i&&Qr(i)},reduce(t,e,r=void 0){return Array.isArray(t)?r!==void 0?t.reduce((n,o)=>e(o,n),r):t.reduce((n,o)=>e(o,n)):e(t,r)}});var Ks=(t,e)=>t-e,ea=()=>!0,Ge=class{constructor(e,r,n){this.maxSize=e||1/0,this.compare=r||Ks,this.accept=n||ea,this.values=[]}add(e){let r=this.values.length+1;if(r>this.maxSize)this.compare(this.values[0],e)>0&&this.accept(e)&&(this.values[0]=e,this.heapify(0));else if(this.accept(e)&&(this.values.push(e),r===this.maxSize))for(let n=r-1;n>=0;n--)this.heapify(n)}heapify(e){let r=this.values.length;if(e>=r>>1)return;let n=2*e+1,o=2*e+2,i=this.values[e],a=this.compare(this.values[n],i)>0?n:e;o<r&&this.compare(this.values[o],this.values[a])>0&&(a=o),a!==e&&(this.values[e]=this.values[a],this.values[a]=i,this.heapify(a))}[Symbol.iterator](){return this.values.slice().sort(this.compare)[Symbol.iterator]()}};var ta={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable"};function gt(t,e){Object.keys(t).forEach(e.add,e)}function ra(t,e,r,n=new Set){let o=i=>{switch(typeof i){case"string":case"number":n.add(i);break}};switch(t){case"path":{let i=new Set;for(let a of e)if(Array.isArray(a))for(let s of a)ve(s)&&gt(s,i);else ve(a)&&gt(a,i);i.forEach(n.add,n);break}case"key":{let i=new Set;for(let a of e)a!==null&&typeof a=="object"&&!Array.isArray(a)&&gt(a,i);i.forEach(n.add,n);break}case"value":for(let i of e)o(i);break;case"in-value":{let i=new Set;for(let a of e)Array.isArray(a)?a.forEach(o):ve(a)&&gt(a,i);i.forEach(n.add,n);break}case"var":for(let i of e)n.add("$"+i);break;case"value-subset":{let i=new Set(r);for(let a of e)i.has(a)||o(a);break}}return n}function Xr(t,e,r,n=!1){let o=[];for(let[i,a,s,g,y=null]of r)if(e>=i&&e<=a&&(n||g.size||g.length)){let ie=t.substring(i,a);/\S/.test(ie)||(i=a=e,ie=""),o.push({context:s,from:i,to:a,text:ie,values:g,related:y})}return o}function Kr(t,e){return typeof t=="function"?t:t===!0?e:!1}function en(t){if(/^(["']).*\1$/.test(t))try{return t[0]==="'"&&(t=`"${t.slice(1,-1).replace(/\\.|"/g,e=>e==="\\'"?"'":e==='"'?'\\"':e)}"`),JSON.parse(t)}catch{}return t}function na(t){return e=>(typeof e=="string"?e:String(e)).toLowerCase().indexOf(t)!==-1}var gr=(t,e)=>({stat(r,n){return Xr(t,r,e,n)},suggestion(r,n){let{limit:o=1/0,sort:i,filter:a}=n||{};i=Kr(i,_e.cmp),a=Kr(a,na);let s=i&&isFinite(o)?Ge:Set,g=Xr(t,r,e),y=new Map,ie=[];for(let Q of g){let{context:m,text:K,from:ce,to:$,values:p,related:Y}=Q,u=ta[m];if(!y.has(u)){let c;switch(s){case Ge:c=new Ge(o,i,a&&a(en(K)));break;case Set:c=new Set;break}y.set(u,{type:u,from:ce,to:$,text:K,suggestions:c})}let{suggestions:d}=y.get(u);ra(m,p,Y,d)}if(s===Set)for(let Q of y.values()){let{suggestions:m}=Q;if(i&&(m=[...m].sort(i)),a||isFinite(o)){let K=[],ce=a?a(en(Q.text)):()=>!0;for(let $ of m)if(ce($)&&K.push($)>=o)break;m=K}Q.suggestions=m}for(let Q of y.values())Q.suggestions=Array.isArray(Q.suggestions)?Q.suggestions:[...Q.suggestions],Q.suggestions.length&&ie.push(Q);return ie.length?ie:null}});var ia=new Map,sa=new Map,aa=new Map,oa=new Map;function la(t,e){console.log(`[${t}]`),typeof e=="string"?console.log(e):e!==void 0&&console.dir(e,{depth:null}),console.log()}function mr(t,e,r,n){n=typeof n=="function"?n:Boolean(n)?la:!1,n&&(n("========================="),n("Compile query from source",t));let o=st.parse(t,r);n&&(n("AST",o.ast),n("Restored source",ct(o.ast)));let i=e?ut(t,o):null;if(n&&i){let s=Q=>JSON.stringify(Q).slice(1,-1),g=[].concat(...[...i.entries()].map(([Q,m])=>m.map(K=>[Q,...K]))),y=[],ie=null;n("Stat/suggestion ranges",g.sort((Q,m)=>Q[1]-m[1]).map(([Q,...m])=>{let[K,ce,$,p]=m,Y;if(K===y[0]&&ce===y[1])Y=" ".repeat(ie.length);else{let u=s(t.slice(0,K)).length,d=s(t.substring(K,ce)).length;y=m,ie=" ".repeat(u)+(d?"~".repeat(d):"\\")+" "+K+":"+ce,Y=s(t)+`
`+ie}return Y+" ["+$+"] on "+Q.type+(p===!0?" (current)":p&&p.type?" & "+p.type:"")}).join(`
`))}let a=ft(o.ast,r,i);return n&&n("Compiled code",a.toString()),a}function ua(t,e){e=e||{};let r=Boolean(e.stat),n=Boolean(e.tolerant),o=e.methods?{...ze,...e.methods}:ze,i=r?n?oa:sa:n?aa:ia,a;return t=String(t),i.has(t)&&!e.debug?a=i.get(t):(a=mr(t,r,n,e.debug),i.set(t,a)),a=a(_e,o),r?(s,g)=>gr(t,a(s,g)):a}function ca(t){let e=new Map,r=new Map,n=new Map,o=new Map,i={...ze};for(let[a,s]of Object.entries(t||{}))typeof s=="string"?Object.defineProperty(i,a,{configurable:!0,get(){let g=mr(s)(_e,i),y=ie=>g(ie,null);return Object.defineProperty(i,a,{value:y}),y}}):i[a]=s;return function(s,g){g=g||{};let y=Boolean(g.stat),ie=Boolean(g.tolerant),Q=y?ie?o:r:ie?n:e,m;if(s=String(s),Q.has(s)&&!g.debug)m=Q.get(s);else{let K=mr(s,y,ie,g.debug)(_e,i);m=y?(ce,$)=>gr(s,K(ce,$)):K,Q.set(s,m)}return m}}var Xa=Object.assign(ua,{version:br,buildin:_e,methods:ze,setup:ca,syntax:{tokenize:st.tokenize,parse:st.parse,suggest:ut,walk:Ye,stringify:ct,compile:ft}});export{Xa as default};
//# sourceMappingURL=jora.esm.js.map
